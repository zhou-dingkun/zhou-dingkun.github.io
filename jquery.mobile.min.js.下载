!function(e,n,i){"function"==typeof define&&define.amd?define(["jquery"],function(t){return i(t,e,n),t.mobile}):i(e.jQuery,e,n)}(this,document,function(t,e,u,n){var i,o,a,r,s,c,p,l,h,d,v,f,m,g,w,b,T,D,y,x,E,k,P,X,Y,M,I,z;function C(){var t=r();t!==s&&(s=t,d.trigger(v))}function L(t,e,n,i){var o=n.type;n.type=e,i?w.event.trigger(n,T,t):w.event.dispatch.call(t,n),n.type=o}(i=t).extend(i.support,{orientation:"orientation"in e&&"onorientationchange"in e}),function(t){t.event.special.throttledresize={setup:function s(){t(this).bind("resize",a)},teardown:function u(){t(this).unbind("resize",a)}};var e,n,i,o=250,a=function a(){n=(new Date).getTime(),o<=(i=n-r)?(r=n,t(this).trigger("throttledresize")):(e&&clearTimeout(e),e=setTimeout(a,o-i))},r=0}(t),d=(o=t)(a=this),v="orientationchange",f={0:!0,180:!0},o.support.orientation&&(l=a.innerWidth||d.width(),c=(h=a.innerHeight||d.height())<l&&50<l-h,p=f[a.orientation],(c&&p||!c&&!p)&&(f={"-90":!0,90:!0})),o.event.special.orientationchange=o.extend({},o.event.special.orientationchange,{setup:function S(){if(o.support.orientation&&!o.event.special.orientationchange.disabled)return!1;s=r(),d.bind("throttledresize",C)},teardown:function F(){if(o.support.orientation&&!o.event.special.orientationchange.disabled)return!1;d.unbind("throttledresize",C)},add:function N(t){var e=t.handler;t.handler=function(t){return t.orientation=r(),e.apply(this,arguments)}}}),o.event.special.orientationchange.orientation=r=function r(){var t=u.documentElement;return(o.support.orientation?f[a.orientation]:t&&t.clientWidth/t.clientHeight<1.1)?"portrait":"landscape"},o.fn[v]=function(t){return t?this.bind(v,t):this.trigger(v)},o.attrFn&&(o.attrFn[v]=!0),function(h,t,e,d){var u,n,a="virtualMouseBindings",c="virtualTouchID",i="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),v="clientX clientY pageX pageY screenX screenY".split(" "),o=h.event.mouseHooks?h.event.mouseHooks.props:[],f=h.event.props.concat(o),r={},s=0,p=0,l=0,m=!1,g=[],w=!1,b=!1,T="addEventListener"in e,D=h(e),y=1,x=0;function E(t){for(;t&&"undefined"!=typeof t.originalEvent;)t=t.originalEvent;return t}function k(t,e){var n,i,o,a,r,s,u,c,p,l=t.type;if((t=h.Event(t)).type=e,n=t.originalEvent,i=h.event.props,-1<l.search(/^(mouse|click)/)&&(i=f),n)for(u=i.length;u;)t[a=i[--u]]=n[a];if(-1<l.search(/mouse(down|up)|click/)&&!t.which&&(t.which=1),-1!==l.search(/^touch/)&&(l=(o=E(n)).touches,r=o.changedTouches,s=l&&l.length?l[0]:r&&r.length?r[0]:d))for(c=0,p=v.length;c<p;c++)t[a=v[c]]=s[a];return t}function P(t){for(var e,n,i={};t;){for(n in e=h.data(t,a))e[n]&&(i[n]=i.hasVirtualBinding=!0);t=t.parentNode}return i}function X(t,e){for(var n;t;){if((n=h.data(t,a))&&(!e||n[e]))return t;t=t.parentNode}return null}function Y(){b=!1}function M(){b=!0}function I(){x=0,g.length=0,w=!1,M()}function z(){Y()}function C(){L(),s=setTimeout(function(){s=0,I()},h.vmouse.resetTimerDuration)}function L(){s&&(clearTimeout(s),s=0)}function S(t,e,n){var i;return(n&&n[t]||!n&&X(e.target,t))&&(i=k(e,t),h(e.target).trigger(i)),i}function F(t){var e,n=h.data(t.target,c);w||x&&x===n||(e=S("v"+t.type,t))&&(e.isDefaultPrevented()&&t.preventDefault(),e.isPropagationStopped()&&t.stopPropagation(),e.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}function N(t){var e,n,i,o=E(t).touches;o&&1===o.length&&(n=P(e=t.target)).hasVirtualBinding&&(x=y++,h.data(e,c,x),L(),z(),m=!1,i=E(t).touches[0],p=i.pageX,l=i.pageY,S("vmouseover",t,n),S("vmousedown",t,n))}function H(t){b||(m||S("vmousecancel",t,P(t.target)),m=!0,C())}function O(t){if(!b){var e=E(t).touches[0],n=m,i=h.vmouse.moveDistanceThreshold,o=P(t.target);(m=m||Math.abs(e.pageX-p)>i||Math.abs(e.pageY-l)>i)&&!n&&S("vmousecancel",t,o),S("vmousemove",t,o),C()}}function B(t){if(!b){M();var e,n,i=P(t.target);S("vmouseup",t,i),m||(e=S("vclick",t,i))&&e.isDefaultPrevented()&&(n=E(t).changedTouches[0],g.push({touchID:x,x:n.clientX,y:n.clientY}),w=!0),S("vmouseout",t,i),m=!1,C()}}function j(t){var e,n=h.data(t,a);if(n)for(e in n)if(n[e])return!0;return!1}function A(){}function V(n){var i=n.substr(1);return{setup:function t(){j(this)||h.data(this,a,{}),h.data(this,a)[n]=!0,r[n]=(r[n]||0)+1,1===r[n]&&D.bind(i,F),h(this).bind(i,A),T&&(r.touchstart=(r.touchstart||0)+1,1===r.touchstart&&D.bind("touchstart",N).bind("touchend",B).bind("touchmove",O).bind("scroll",H))},teardown:function o(){--r[n],r[n]||D.unbind(i,F),T&&(--r.touchstart,r.touchstart||D.unbind("touchstart",N).unbind("touchmove",O).unbind("touchend",B).unbind("scroll",H));var t=h(this),e=h.data(this,a);e&&(e[n]=!1),t.unbind(i,A),j(this)||t.removeData(a)}}}for(h.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500},n=0;n<i.length;n++)h.event.special[i[n]]=V(i[n]);T&&e.addEventListener("click",function(t){var e,n,i,o,a,r=g.length,s=t.target;if(r)for(e=t.clientX,n=t.clientY,u=h.vmouse.clickDistanceThreshold,i=s;i;){for(o=0;o<r;o++)if(a=g[o],0,i===s&&Math.abs(a.x-e)<u&&Math.abs(a.y-n)<u||h.data(i,c)===a.touchID)return t.preventDefault(),void t.stopPropagation();i=i.parentNode}},!0)}(t,0,u),t.mobile={},g={touch:"ontouchend"in u},(m=t).mobile.support=m.mobile.support||{},m.extend(m.support,g),m.extend(m.mobile.support,g),b=this,D=(w=t)(u),y=w.mobile.support.touch,x="touchmove scroll",E=y?"touchstart":"mousedown",k=y?"touchend":"mouseup",P=y?"touchmove":"mousemove",w.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,e){w.fn[e]=function(t){return t?this.bind(e,t):this.trigger(e)},w.attrFn&&(w.attrFn[e]=!0)}),w.event.special.scrollstart={enabled:!0,setup:function H(){var n,e,i=this;function o(t,e){L(i,(n=e)?"scrollstart":"scrollstop",t)}w(i).bind(x,function(t){w.event.special.scrollstart.enabled&&(n||o(t,!0),clearTimeout(e),e=setTimeout(function(){o(t,!1)},50))})},teardown:function O(){w(this).unbind(x)}},w.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:!0,setup:function H(){var r=this,s=w(r),u=!1;s.bind("vmousedown",function(t){if(u=!1,t.which&&1!==t.which)return!1;var e,n=t.target;function i(){clearTimeout(e)}function o(){i(),s.unbind("vclick",a).unbind("vmouseup",i),D.unbind("vmousecancel",o)}function a(t){o(),u||n!==t.target?u&&t.preventDefault():L(r,"tap",t)}s.bind("vmouseup",i).bind("vclick",a),D.bind("vmousecancel",o),e=setTimeout(function(){w.event.special.tap.emitTapOnTaphold||(u=!0),L(r,"taphold",w.Event("taphold",{target:n}))},w.event.special.tap.tapholdThreshold)})},teardown:function O(){w(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup"),D.unbind("vmousecancel")}},w.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:30,getLocation:function B(t){var e=b.pageXOffset,n=b.pageYOffset,i=t.clientX,o=t.clientY;return 0===t.pageY&&Math.floor(o)>Math.floor(t.pageY)||0===t.pageX&&Math.floor(i)>Math.floor(t.pageX)?(i-=e,o-=n):(o<t.pageY-n||i<t.pageX-e)&&(i=t.pageX-e,o=t.pageY-n),{x:i,y:o}},start:function j(t){var e=t.originalEvent.touches?t.originalEvent.touches[0]:t,n=w.event.special.swipe.getLocation(e);return{time:(new Date).getTime(),coords:[n.x,n.y],origin:w(t.target)}},stop:function A(t){t.preventDefault();var e=t.originalEvent.touches?t.originalEvent.touches[0]:t,n=w.event.special.swipe.getLocation(e);return{time:(new Date).getTime(),coords:[n.x,n.y]}},handleSwipe:function V(t,e,n,i){if(e.time-t.time<w.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-e.coords[0])>w.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-e.coords[1])<w.event.special.swipe.verticalDistanceThreshold){var o=t.coords[0]>e.coords[0]?"swipeleft":"swiperight";return L(n,"swipe",w.Event("swipe",{target:i,swipestart:t,swipestop:e}),!0),L(n,o,w.Event(o,{target:i,swipestart:t,swipestop:e}),!0),!0}return!1},eventInProgress:!1,setup:function H(){var t,a=this,e=w(a),r={};(t=w.data(this,"mobile-events"))||(t={length:0},w.data(this,"mobile-events",t)),t.length++,(t.swipe=r).start=function(t){if(!w.event.special.swipe.eventInProgress){w.event.special.swipe.eventInProgress=!0;var e,n=w.event.special.swipe.start(t),i=t.target,o=!1;r.move=function(t){n&&!t.isDefaultPrevented()&&(e=w.event.special.swipe.stop(t),o||(o=w.event.special.swipe.handleSwipe(n,e,a,i))&&(w.event.special.swipe.eventInProgress=!1),Math.abs(n.coords[0]-e.coords[0])>w.event.special.swipe.scrollSupressionThreshold&&t.preventDefault())},r.stop=function(){o=!0,w.event.special.swipe.eventInProgress=!1,D.off(P,r.move),r.move=null},D.on(P,r.move).one(k,r.stop)}},e.on(E,r.start)},teardown:function O(){var t,e;(t=w.data(this,"mobile-events"))&&(e=t.swipe,delete t.swipe,t.length--,0===t.length&&w.removeData(this,"mobile-events")),e&&(e.start&&w(this).off(E,e.start),e.move&&D.off(P,e.move),e.stop&&D.off(k,e.stop))}},w.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe.left",swiperight:"swipe.right"},function(t,e){w.event.special[t]={setup:function n(){w(this).bind(e,w.noop)},teardown:function i(){w(this).unbind(e)}}}),X=t,M={animation:{},transition:{}},I=u.createElement("a"),z=["","webkit-","moz-","o-"],X.each(["animation","transition"],function(t,n){var i=0===t?n+"-name":n;X.each(z,function(t,e){if(I.style[X.camelCase(e+i)]!==Y)return M[n].prefix=e,!1}),M[n].duration=X.camelCase(M[n].prefix+n+"-duration"),M[n].event=X.camelCase(M[n].prefix+n+"-end"),""===M[n].prefix&&(M[n].event=M[n].event.toLowerCase())}),X.support.cssTransitions=M.transition.prefix!==Y,X.support.cssAnimations=M.animation.prefix!==Y,X(I).remove(),X.fn.animationComplete=function(t,e,n){var i,o,a=this,r=function r(){clearTimeout(i),t.apply(this,arguments)},s=e&&"animation"!==e?"transition":"animation";return X.support.cssTransitions&&"transition"===s||X.support.cssAnimations&&"animation"===s?(n===Y&&(X(this).context!==u&&(o=3e3*parseFloat(X(this).css(M[s].duration))),0!==o&&o!==Y&&!isNaN(o)||(o=X.fn.animationComplete.defaultDuration)),i=setTimeout(function(){X(a).off(M[s].event,r),t.apply(a)},o),X(this).one(M[s].event,r)):(setTimeout(X.proxy(t,this),0),X(this))},X.fn.animationComplete.defaultDuration=1e3});