!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("__webpack_no_use_variable",[],t):"object"==typeof exports?exports.__webpack_no_use_variable=t():e.__webpack_no_use_variable=t()}(this,(function(){return function(e){var t={};function i(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=280)}({280:function(module,exports){function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}function _iterableToArrayLimit(e,t){var i=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=i){var a,n,o=[],r=!0,s=!1;try{for(i=i.call(e);!(r=(a=i.next()).done)&&(o.push(a.value),!t||o.length!==t);r=!0);}catch(e){s=!0,n=e}finally{try{r||null==i.return||i.return()}finally{if(s)throw n}}return o}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*! LAB.js (LABjs :: Loading And Blocking JavaScript)
    v2.0.3 (c) Kyle Simpson
    MIT License
*/function fixRegSpecialCharacter(e){for(var t=["\\",".","?","$","*","^","[","]","{","}","|","(",")","/"],i=0,a=t.length;i<a;i++)e=e.replace(t[i],"\\"+t[i]);return e}!function(e,t){var i,a,n,o=e.$LAB,r=/^[^?#]*\//.exec(location.href)[0],s=/^\w+\:\/\/\/?[^\/]+/.exec(r)[0],l=document.head||document.getElementsByTagName("head"),c=e.opera&&"[object Opera]"==Object.prototype.toString.call(e.opera)||"MozAppearance"in document.documentElement.style,d=function(){},p=d,u=document.createElement("script"),h="boolean"==typeof u.preload,f=h||u.readyState&&"uninitialized"==u.readyState,g=!f&&!0===u.async,m=!f&&!g&&!c;function v(e){return"[object Function]"==Object.prototype.toString.call(e)}function b(e){return"[object Array]"==Object.prototype.toString.call(e)}function y(e,t){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function x(e){for(var t=!1,i=0;i<e.scripts.length;i++)e.scripts[i].ready&&e.scripts[i].exec_trigger&&(t=!0,e.scripts[i].exec_trigger(),e.scripts[i].exec_trigger=null);return t}function _(e,t,i,a){e.onload=e.onreadystatechange=function(){e.readyState&&"complete"!=e.readyState&&"loaded"!=e.readyState||t[i]||(e.onload=e.onreadystatechange=null,a())}}function w(e){e.ready=e.finished=!0;for(var t=0;t<e.finished_listeners.length;t++)e.finished_listeners[t]();e.ready_listeners=[],e.finished_listeners=[]}e.console&&e.console.log&&(e.console.error||(e.console.error=e.console.log),d=function(t){e.console.log(t)},p=function(t,i){e.console.error(t,i)}),e.$LAB=function t(){var i,a={},n=f||m,c=[],u={};function C(e,t,i,a){var n,o,c,p,m,v=function(){t.finished_cb(t,i)};t.src=(c=t.src,p=e.BasePath,m=/^\w+\:\/\//,/^\/\/\/?/.test(c)?c=location.protocol+c:m.test(c)||"/"==c.charAt(0)||(c=(p||"")+c),m.test(c)?c:("/"==c.charAt(0)?s:r)+c),t.real_src=t.src+(e.CacheBust?(/\?.*$/.test(t.src)?"&_":"?_")+~~(1e9*Math.random())+"=":""),u[t.src]||(u[t.src]={items:[],finished:!1}),o=u[t.src].items,e.AllowDuplicates||0==o.length?(n=o[o.length]={ready:!1,finished:!1,ready_listeners:[function(){t.ready_cb(t,(function(){!function(e,t,i){var a;function n(){null!=a&&(a=null,w(i))}u[t.src].finished||(e.AllowDuplicates||(u[t.src].finished=!0),a=i.elem||document.createElement("script"),t.type&&(a.type=t.type),t.charset&&(a.charset=t.charset),_(a,i,"finished",n),i.elem?i.elem=null:i.text?(a.onload=a.onreadystatechange=null,a.text=i.text):a.src=t.real_src,l.insertBefore(a,l.firstChild),i.text&&n())}(e,t,n)}))}],finished_listeners:[v]},function(e,t,i,a,n){setTimeout((function(){var o,r,c=t.real_src;if("item"in l){if(!l[0])return void setTimeout(arguments.callee,25);l=l[0]}o=document.createElement("script"),t.type&&(o.type=t.type),t.charset&&(o.charset=t.charset),n?f?(e.Debug&&d("start script preload: "+c),i.elem=o,h?(o.preload=!0,o.onpreload=a):o.onreadystatechange=function(){"loaded"==o.readyState&&a()},o.src=c):n&&0==c.indexOf(s)&&e.UseLocalXHR?(r=new XMLHttpRequest,e.Debug&&d("start script preload (xhr): "+c),r.onreadystatechange=function(){4==r.readyState&&(r.onreadystatechange=function(){},i.text=r.responseText+"\n//@ sourceURL="+c,a())},r.open("GET",c),r.send()):(e.Debug&&d("start script preload (cache): "+c),o.type="text/cache-script",_(o,i,"ready",(function(){l.removeChild(o),a()})),o.src=c,l.insertBefore(o,l.firstChild)):g?(e.Debug&&d("start script load (ordered async): "+c),o.async=!1,_(o,i,"finished",a),o.src=c,l.insertBefore(o,l.firstChild)):(e.Debug&&d("start script load: "+c),_(o,i,"finished",a),o.src=c,l.insertBefore(o,l.firstChild))}),0)}(e,t,n,a?function(){n.ready=!0;for(var e=0;e<n.ready_listeners.length;e++)n.ready_listeners[e]();n.ready_listeners=[]}:function(){w(n)},a)):(n=o[0]).finished?v():n.finished_listeners.push(v)}function S(){var e,t,i=y(a,{}),o=[],r=0,s=!1;function l(e,t){i.Debug&&d("script preload finished: "+e.real_src),e.ready=!0,e.exec_trigger=t,u()}function c(e,t){i.Debug&&d("script execution finished: "+e.real_src),e.ready=e.finished=!0,e.exec_trigger=null;for(var a=0;a<t.scripts.length;a++)if(!t.scripts[a].finished)return;t.finished=!0,u()}function u(){for(;r<o.length;)if(v(o[r])){i.Debug&&d("$LAB.wait() executing: "+o[r]);try{o[r++]()}catch(e){i.Debug&&p("$LAB.wait() error caught: ",e)}}else{if(!o[r].finished){if(x(o[r]))continue;break}r++}r==o.length&&(s=!1,t=!1)}function h(){t&&t.scripts||o.push(t={scripts:[],finished:!0})}return{script:(e={script:function(){for(var a=0;a<arguments.length;a++)!function(a,o){var r;b(a)||(o=[a]);for(var d=0;d<o.length;d++)h(),v(a=o[d])&&(a=a()),a&&(b(a)?((r=[].slice.call(a)).unshift(d,1),[].splice.apply(o,r),d--):("string"==typeof a&&(a={src:a}),a=y(a,{ready:!1,ready_cb:l,finished:!1,finished_cb:c}),t.finished=!1,t.scripts.push(a),C(i,a,t,n&&s),s=!0,i.AlwaysPreserveOrder&&e.wait()))}(arguments[a],arguments[a]);return e},wait:function(){if(arguments.length>0){for(var i=0;i<arguments.length;i++)o.push(arguments[i]);t=o[o.length-1]}else t=!1;return u(),e}}).script,wait:e.wait,setOptions:function(t){return y(t,i),e}}}return a.UseLocalXHR=!0,a.AlwaysPreserveOrder=!1,a.AllowDuplicates=!1,a.CacheBust=!1,a.Debug=!1,a.BasePath="",i={setGlobalDefaults:function(e){return y(e,a),i},setOptions:function(){return S().setOptions.apply(null,arguments)},script:function(){return S().script.apply(null,arguments)},wait:function(){return S().wait.apply(null,arguments)},queueScript:function(){return c[c.length]={type:"script",args:[].slice.call(arguments)},i},queueWait:function(){return c[c.length]={type:"wait",args:[].slice.call(arguments)},i},runQueue:function(){for(var e,t=i,a=c.length;--a>=0;)t=t[(e=c.shift()).type].apply(null,e.args);return t},noConflict:function(){return e.$LAB=o,i},sandbox:function(){return t()}}}(),i="addEventListener",a="DOMContentLoaded",null==document.readyState&&document[i]&&(document.readyState="loading",document[i](a,n=function(){document.removeEventListener(a,n,!1),document.readyState="complete"},!1))}(window),"undefined"==typeof Fai&&(Fai={},Fai.top=top),Fai.openLog=!1,Fai.isDbg=function(){return"true"==$.cookie("_fai_debug")},Fai.jzEval=function(data){return eval(data)},Fai.logDog=function(e,t){$.ajax({type:"get",url:"/ajax/log_h.jsp?cmd=dog&dogId="+Fai.encodeUrl(e)+"&dogSrc="+Fai.encodeUrl(t)})},Fai.log=function(e){Fai.isDbg()&&console.log(e)},Fai.logErr=function(e){console.error(e)},Fai.logDbg=function(){(Fai.isDbg()||Fai.openLog)&&console.log($.makeArray(arguments).join(""))},Fai.logAlert=function(){(Fai.isDbg()||Fai.openLog)&&alert($.makeArray(arguments).join(""))},Fai.isNull=function(e){return void 0===e||null==e},Fai.isDate=function(e){return e.constructor==Date},Fai.isFloat=function(e){return/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(e)},Fai.isInteger=function(e){return/^-?\d+$/.test(e)},Fai.isLowerCase=function(e){return/^[a-z]+$/.test(e)},Fai.isUpperCase=function(e){return/^[A-Z]+$/.test(e)},Fai.toLowerCaseFirstOne=function(e){return void 0===e||Fai.isLowerCase(e.charAt(0))?e:e.substring(0,1).toLowerCase()+e.substring(1,e.length)},Fai.toUpperCaseFirstOne=function(e){return void 0===e||Fai.isUpperCase(e.charAt(0))?e:e.substring(0,1).toUpperCase()+e.substring(1,e.length)},Fai.isChinese=function(e){return!(e<"一"||e>"龥")},Fai.isIp=function(e){if("string"!=typeof e||""==$.trim(e))return!1;var t=e.split(".");if(4!=t.length)return!1;var i=!0;return $.each(t,(function(e,t){if(!Fai.isNumber(t)||parseInt(t)<0||parseInt(t)>255)return i=!1,!0})),i},Fai.isDomain=function(e){return!!/^[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9]$/.test(e)&&!(e.indexOf("--")>=0)},Fai.isWord=function(e){return/^[a-zA-Z0-9_]+$/.test(e)},Fai.isEmail=function(e){return/^[a-zA-Z0-9][a-zA-Z0-9_=\&\-\.\+]*[a-zA-Z0-9]*@[a-zA-Z0-9][a-zA-Z0-9_\-\.]+[a-zA-Z0-9]$/.test(e)},Fai.isEmailDomain=function(e){return/^[a-zA-Z0-9][a-zA-Z0-9_\-]*\.[a-zA-Z0-9\-][a-zA-Z0-9_\-\.]*[a-zA-Z0-9]$/.test(e)},Fai.isMobile=function(e){return/^1[3456789]\d{9}$/.test(e)},Fai.isPhone=function(e){return!/^([^\d])+([^\d])*([^\d])$/.test(e)&&/^([\d\+\s\(\)-])+([\d\+\s\(\)-])*([\d\+\s\(\)-])$/.test(e)},Fai.isNationMobile=function(e){return/^\d{7,11}$/.test(e)},Fai.isLimitedRangeNationMobile=function(e,t,i){return new RegExp("^\\d{"+t+","+i+"}$").test(e)},Fai.isCardNo=function(e){return/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e)},Fai.isUrl=function(e,t){if(void 0===t&&(t=!0),t&&e.length>=1&&"/"==e.charAt(0))return!0;if(t&&e.length>=1&&"#"==e.charAt(0))return!0;return/^(\w+:).+/.test(e)},Fai.fixUrl=function(e,t){return Fai.isUrl(e,t)?e:"http://"+e},Fai.fixJzUrl=function(e,t){if(e&&t){t=Fai.fixUrl(t);var i=(e=Fai.fixUrl(e)).substring(0,t.length);return i===t?i==e?"/":e.substring(t.length,e.length):e}},Fai.isIE=function(){return!!$.browser.msie},Fai.isEdge=function(){return!!$.browser.msedge},Fai.isIE6=function(){return!(!$.browser.msie||"6.0"!=$.browser.version)},Fai.isIE7=function(){return!(!$.browser.msie||"7.0"!=$.browser.version)},Fai.isIE8=function(){return!(!$.browser.msie||"8.0"!=$.browser.version)},Fai.isIE9=function(){return!(!$.browser.msie||"9.0"!=$.browser.version)},Fai.isIE10=function(){return!(!$.browser.msie||"10.0"!=$.browser.version)},Fai.isIE11=function(){return!(!$.browser.msie||"11.0"!=$.browser.version&&!$.browser.rv)},Fai.isSafari=function(){return!!$.browser.safari},Fai.isWeixin=function(){return-1!=navigator.userAgent.toLowerCase().indexOf("micromessenger")},Fai.isWebkit=function(){return!!$.browser.webkit},Fai.isChrome=function(){return!!$.browser.chrome},Fai.isMozilla=function(){return!!$.browser.mozilla},Fai.isAppleWebKit=function(){return window.navigator.userAgent.indexOf("AppleWebKit")>=0},Fai.isOpera=function(){return $.browser.opera||$.browser.opr},Fai.isAndroid=function(){return!!$.browser.android},Fai.isIpad=function(){return!!$.browser.ipad},Fai.isIphone=function(){return!!$.browser.iphone},Fai.isPC=function(){for(var e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],i=!0,a=0;a<t.length;a++)if(e.indexOf(t[a])>0){i=!1;break}return i},Fai.BrowserType={UNKNOWN:0,SPIDER:1,CHROME:2,FIREFOX:3,MSIE8:4,MSIE7:5,MSIE6:6,MSIE9:7,SAFARI:8,MSIE10:9,MSIE11:10,OPERA:11,APPLE_WEBKIT:12},Fai.getBrowserType=function(){return Fai.isIE6()?Fai.BrowserType.MSIE6:Fai.isIE7()?Fai.BrowserType.MSIE7:Fai.isIE8()?Fai.BrowserType.MSIE8:Fai.isIE9()?Fai.BrowserType.MSIE9:Fai.isIE10()?Fai.BrowserType.MSIE10:Fai.isIE11()?Fai.BrowserType.MSIE11:Fai.isMozilla()?Fai.BrowserType.FIREFOX:Fai.isOpera()?Fai.BrowserType.OPERA:Fai.isChrome()?Fai.BrowserType.CHROME:Fai.isSafari()?Fai.BrowserType.SAFARI:Fai.isAppleWebKit()?Fai.BrowserType.APPLE_WEBKIT:Fai.BrowserType.UNKNOWN},Fai.Screen=function(){return{width:window.screen.width,height:window.screen.height}},Fai.format=function(){for(var e=arguments[0],t=0;t<arguments.length-1;t++){var i=new RegExp("\\{"+t+"\\}","gm");e=e.replace(i,arguments[t+1])}return e},Fai.getScreenType=function(e,t){var i={OTHER:0,W1920H1080:1,W1680H1050:2,W1600H1200:3,W1600H1024:4,W1600H900:5,W1440H900:6,W1366H768:7,W1360H768:8,W1280H1024:9,W1280H960:10,W1280H800:11,W1280H768:12,W1280H720:13,W1280H600:14,W1152H864:15,W1024H768:16,W800H600:17};return i["W"+$.trim(String(e))+"H"+$.trim(String(t))]||i.OTHER},Fai.addUrlParams=function(e,t){if(Fai.isNull(t))return e;var i=e,a="",n=e.indexOf("#");return n>-1&&(i=e.substring(0,n),a=e.substring(n,e.length)),i.indexOf("?")<0?i+"?"+t+a:i+"&"+t+a},Fai.addUrlParamsV2=function(e,t){var i=e.split("#")[0];for(var a in t)if(t.hasOwnProperty(a)){var n=t[a];/\?/g.test(i)?i+="&"+a+"="+n:i+="?"+a+"="+n}return e.split("#")[1]?i+"#"+e.split("#")[1]:i},Fai.getUrlRoot=function(e){var t=e.indexOf("://");return t<0?e:(t=e.indexOf("/",t+3))<0?"/":e.substring(t)},Fai.getUrlParam=function(e,t){var i,a=e.substring(e.indexOf("?")+1,e.length).split("&"),n=a[a.length-1];return n&&n.indexOf("#")>-1&&(a[a.length-1]=n.substring(0,n.indexOf("#"))),$.each(a,(function(e,a){if(decodeURIComponent(a.substring(0,a.indexOf("=")))===t)return i=decodeURIComponent(a.substring(a.indexOf("=")+1,a.length)),!1})),i},Fai.getHashParam=function(e,t){var i,a=e.substring(e.indexOf("#")+1,e.length).split("&");return $.each(a,(function(e,a){if(decodeURIComponent(a.substring(0,a.indexOf("=")))===t)return i=decodeURIComponent(a.substring(a.indexOf("=")+1,a.length)),!1})),i},Fai.getUrlInfo=function(e){var t=e.indexOf("?"),i=e.indexOf("#"),a=e.substring(0,t),n=e.substring(t+1,e.length).split("&"),o=e.substring(e.indexOf("#")+1,e.length),r=n[n.length-1],s={};return a.indexOf("/")>-1&&(a=e.substring(e.lastIndexOf(),a.length)),t<0&&i<0?{pathname:e,param:{},hash:""}:t<0?{pathname:a,param:{},hash:o}:(r&&r.indexOf("#")>-1&&(n[n.length-1]=r.substring(0,r.indexOf("#"))),$.each(n,(function(e,t){var i=decodeURIComponent(t.substring(0,t.indexOf("=")));s[i]=decodeURIComponent(t.substring(t.indexOf("=")+1,t.length))})),i<0?{pathname:a,param:s,hash:""}:{pathname:a,param:s,hash:o})},Fai.encodeHtml=function(e){return e&&e.replace?e.replace(/&/g,"&amp;").replace(/ /g,"&nbsp;").replace(/\b&nbsp;+/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\\/g,"&#92;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;").replace(/\n/g,"<br/>").replace(/\r/g,""):e},Fai.decodeHtml=function(e){return e&&e.replace?e.replace(/&nbsp;/gi," ").replace(/&lt;/gi,"<").replace(/&gt;/g,">").replace(/&#92;/gi,"\\").replace(/&#39;/gi,"'").replace(/&quot;/gi,'"').replace(/\<br\/\>/gi,"\n").replace(/&amp;/gi,"&"):e},Fai.encodeHtmlJs=function(e){return e&&e.replace?e.replace(/\\/g,"\\\\").replace(/\'/g,"\\x27").replace(/\"/g,"\\x22").replace(/\n/g,"\\n").replace(/</g,"\\x3c").replace(/>/g,"\\x3e"):e},Fai.encodeHtmlAttr=function(e){return e&&e.replace?e.replace(/\"/g,"&#x22;").replace(/\'/g,"&#x27;").replace(/</g,"&#x3c;").replace(/>/g,"&#x3e;").replace(/&/g,"&#x26;").replace(/\\/g,"&#5c;"):e},Fai.encodeUrl=function(e){return void 0===e?"":encodeURIComponent(e)},Fai.decodeUrl=function(e){var t="";try{t=void 0===e?"":decodeURIComponent(e)}catch(e){t=""}return t},Fai.decodeHtmlAttr=function(e){return e&&e.replace?e.replace(/&#x22;/gi,'"').replace(/&#x27;/gi,"'").replace(/&#x3c;/gi,"<").replace(/&#x3e;/gi,">").replace(/&#x26;/gi,"&").replace(/&#5c;/gi,"\\"):e},Fai.toUN={on:function(e){for(var t=[],i=0;i<e.length;)t[i]=("00"+e.charCodeAt(i++).toString(16)).slice(-4);return"\\u"+t.join("\\u")},un:function(e){return unescape(e.replace(/\\/g,"%"))}},Fai.parseFileName=function(e,t){var i=e.lastIndexOf("/");if(i<0&&(i=e.lastIndexOf("\\")),i>=0&&(e=e.substring(i+1)),t)return e;var a=e.lastIndexOf(".");return a>=0?e.substring(0,a):e},Fai.Conn={},Fai.Conn.requestJs=function(e,t,i){var a=document.getElementById(e),n=null;return n="object"==_typeof(i)&&i.target?document.getElementsByName(i.target)[0]:document.getElementsByTagName("head")[0],a&&n.removeChild(a),"object"==_typeof(i)&&i.callback&&(t=Fai.addUrlParams(t,"_callback="+i.callback)),"object"==_typeof(i)&&i.refresh&&(t=Fai.addUrlParams(t,"_random="+Math.random())),(a=document.createElement("script")).setAttribute("src",t),a.setAttribute("id",e),a.setAttribute("type","text/javascript"),a.setAttribute("language","javascript"),n.appendChild(a),a},Fai.Img={},Fai.Img={MODE_SCALE_FILL:1,MODE_SCALE_WIDTH:2,MODE_SCALE_HEIGHT:3,MODE_SCALE_DEFLATE_WIDTH:4,MODE_SCALE_DEFLATE_HEIGHT:5,MODE_SCALE_DEFLATE_FILL:6,MODE_SCALE_DEFLATE_MAX:7},Fai.Img.optimize=function(e,t){var i=new Image;i.src=e.src;var a=i.width,n=i.height;(Fai.isNull(a)||0==a||Fai.isNull(n)||0==n)&&(a=e.width,n=e.height);var o=Fai.Img.calcSize(a,n,t.width,t.height,t.mode);return e.width=o.width,e.height=o.height,1==t.display?e.style.display="inline":2==t.display?e.style.display="none":3==t.display?e.style.display="inline-block":e.style.display="block",{width:e.width,height:e.height}},Fai.Img.calcSize=function(e,t,i,a,n){var o={width:e,height:t};if(n==Fai.Img.MODE_SCALE_FILL)(r=e/i)>(s=t/a)?(o.width=i,o.height=t/r):(o.width=e/s,o.height=a);else if(n==Fai.Img.MODE_SCALE_WIDTH){var r=e/i;o.width=i,o.height=t/r}else if(n==Fai.Img.MODE_SCALE_HEIGHT){var s=t/a;o.width=e/s,o.height=a}else if(n==Fai.Img.MODE_SCALE_DEFLATE_WIDTH){(r=e/i)>1&&(o.width=i,o.height=t/r)}else if(n==Fai.Img.MODE_SCALE_DEFLATE_HEIGHT){(s=t/a)>1&&(o.width=e/s,o.height=a)}else if(n==Fai.Img.MODE_SCALE_DEFLATE_FILL){(r=e/i)>(s=t/a)?r>1&&(o.width=i,o.height=t/r):s>1&&(o.width=e/s,o.height=a)}else if(n==Fai.Img.MODE_SCALE_DEFLATE_MAX){if(e>i&&t>a)(r=e/i)<(s=t/a)?(o.width=i,o.height=t/r):(o.width=e/s,o.height=a)}return o.width=Math.floor(o.width),o.height=Math.floor(o.height),0==o.width&&(o.width=1),0==o.height&&(o.height=1),o},Fai.bg=function(e,t,i,a){a=a||"";var n=$("<div id='popupBg"+e+"' onmousedown='event.preventDefault();event.stopPropagation();' class='jz_popup_window_bg "+a+"' style='opacity:"+t+";z-index:"+i+";'></div>");$("body").append(n)},Fai.preloadImg=function(){var e=new Array;if("string"==typeof arguments[0]&&(e[0]=arguments[0]),"object"==_typeof(arguments[0]))for(var t=0;t<arguments[0].length;t++)e[t]=arguments[0][t];var i=new Array;for(t=0;t<e.length;t++)i[t]=new Image,i[t].src=e[t]},Fai.containsChinese=function(e){return/[\u4e00-\u9fa5]+/.test(e)},Fai.refreshClass=function(e){e.children().each((function(){$(this).attr("class",$(this).attr("class")),Fai.refreshClass($(this))}))},Fai.rgb2hex=function(e){if("#"==e.charAt(0))return e;Number(e);for(var t=e.split(/\D+/),i=(65536*Number(t[1])+256*Number(t[2])+Number(t[3])).toString(16);i.length<6;)i="0"+i;return"#"+i},Fai.int2hex=function(e){for(var t=e.toString(16);t.length<6;)t="0"+t;return"#"+t},Fai.setCtrlStyleCss=function(e,t,i,a,n){var o=$("#"+e),r=new Array;if(1==o.length){var s=o.html();r=(s=s.replace(/{\r\n/g,"{").replace(/\t/g,"").replace(/\r\n}/g,";}")).split("\n"),o.remove()}var l=new RegExp("#"+t+" +"+fixRegSpecialCharacter(i)+" *{ *"+a+"s*:[^;]*;","gi");""!=t&&"undefined"!=t||(l=new RegExp(fixRegSpecialCharacter(i)+" *{ *"+a+"s*:[^;]*;","gi"));for(var c=r.length-1;c>=0;--c){var d=r[c];(0==d.length||/^\s$/.test(d)||l.test(d))&&r.splice(c,1)}""==t||"undefined"==t?r.push(i+"{"+a+":"+n+";}"):r.push("#"+t+" "+i+"{"+a+":"+n+";}"),$("head").append('<style type="text/css" id="'+e+'">'+r.join("\n")+"</style>")},Fai.setCtrlStyleCssList=function(e,t,i,a){var n=$("#"+e),o=new Array;if(1==n.length){var r=n.html();o=(r=r.replace(/{\r\n/g,"{").replace(/\t/g,"").replace(/\r\n}/g,";}")).split("\n"),n.remove()}for(var s=o.length-1;s>=0;--s)for(var l=o[s],c=0;c<i.length;++c){var d=i[c].cls,p=i[c].key,u=new RegExp("#"+t+" +"+fixRegSpecialCharacter(d)+" *{ *"+p+"s*:[^;]*;","gi");if(""!=t&&"undefined"!=t||(u=new RegExp(fixRegSpecialCharacter(d)+" *{ *"+p+"s*:[^;]*;","gi")),0==l.length||/^\s$/.test(l)||u.test(l)){o.splice(s,1);break}}for(c=0;c<i.length;++c)""==t||"undefined"==t?o.push(i[c].cls+"{"+i[c].key+":"+i[c].value+";}"):o.push("#"+t+" "+i[c].cls+"{"+i[c].key+":"+i[c].value+";}");a&&a.rev&&o.reverse(),$("head").append('<style type="text/css" id="'+e+'">'+o.join("\n")+"</style>")},Fai.getCtrlStyleCss=function(e,t,i,a){var n=$("#"+e);if(0==n.length)return"";var o=n.html().split("\n"),r=new RegExp("#"+t+" +"+fixRegSpecialCharacter(i)+" *{ *"+a+"[^;]*;","gi");""!=t&&"undefined"!=t||(r=new RegExp(fixRegSpecialCharacter(i)+" *{ *"+a+"[^;]*;","gi"));for(var s=o.length-1;s>=0;--s){var l=o[s].match(r);if(l&&l.length>=2)return l[1]}return""},Fai.removeCtrlStyleCss=function(e,t,i,a){var n=$("#"+e),o=new Array;if(1==n.length){var r=n.html();o=(r=r.replace(/{\r\n/g,"{").replace(/\t/g,"").replace(/\r\n}/g,";}")).split("\n"),n.remove()}var s=new RegExp("#"+t+" +"+fixRegSpecialCharacter(i)+" *{ *"+a+"s*:[^;]*;","gi");""!=t&&"undefined"!=t||(s=new RegExp(fixRegSpecialCharacter(i)+" *{ *"+a+"s*:[^;]*;","gi"));for(var l=o.length-1;l>=0;--l){var c=o[l];(0==c.length||/^\s$/.test(c)||s.test(c))&&o.splice(l,1)}$("head").append('<style type="text/css" id="'+e+'">'+o.join("\n")+"</style>")},Fai.removeCtrlStyleCssList=function(e,t,i){var a=$("#"+e),n=new Array;if(1==a.length){var o=a.html();n=(o=o.replace(/{\r\n/g,"{").replace(/\t/g,"").replace(/\r\n}/g,";}")).split("\n"),a.remove()}for(var r=n.length-1;r>=0;--r)for(var s=n[r],l=0;l<i.length;++l){var c=i[l].cls,d=i[l].key,p=new RegExp("#"+t+" +"+fixRegSpecialCharacter(c)+" *{ *"+d+"s*:[^;]*;","gi");if(""!=t&&"undefined"!=t||(p=new RegExp(fixRegSpecialCharacter(c)+" *{ *"+d+"s*:[^;]*;","gi")),0==s.length||/^\s$/.test(s)||p.test(s)){n.splice(r,1);break}}$("head").append('<style type="text/css" id="'+e+'">'+n.join("\n")+"</style>")},Fai.isEnterKey=function(e){return $.browser.msie?13==event.keyCode:13==e.which},Fai.isNumberKey=function(e,t){return $.browser.msie?!(!t||45!=event.keyCode)||(event.keyCode>47&&event.keyCode<58||8==event.keyCode):!(!t||45!=e.which)||(e.which>47&&e.which<58||8==e.which)},Fai.isPhoneNumberKey=function(e,t){return $.browser.msie?!(!t||45!=event.keyCode)||(event.keyCode>47&&event.keyCode<58||8==event.keyCode||44==event.keyCode):!(!t||45!=e.which)||(e.which>47&&e.which<58||8==e.which||44==e.which)},Fai.checkTwoDecimal=function(e,t){var i=$("#"+t).val(),a=/^[0-9]\d*(?:\.\d{1,2}|\d*)$/;if($.browser.msie){if(event.keyCode>47&&event.keyCode<58)return i=i+""+String.fromCharCode(e.which),a.test(i)}else if(e.which>47&&e.which<58)return i=i+""+String.fromCharCode(e.which),a.test(i)},Fai.checkOneDecimal=function(e,t){var i=$("#"+t).val(),a=/^[0-9]\d*(?:\.\d{1}|\d*)$/;if($.browser.msie){if(event.keyCode>47&&event.keyCode<58)return i=i+""+String.fromCharCode(e.which),a.test(i)}else if(e.which>47&&e.which<58)return i=i+""+String.fromCharCode(e.which),a.test(i)},Fai.isNumberKey2=function(e,t){t?$(e).val($(e).val().replace(/[^0-9\-]/g,"")):$(e).val($(e).val().replace(/[^0-9]/g,""))},Fai.isFloatKey=function(e){return $.browser.msie?event.keyCode>47&&event.keyCode<58||8==event.keyCode||46==event.keyCode:e.which>47&&e.which<58||8==e.which||46==e.which},Fai.enablePopupBodyWindowBtn=function(e,t,i){t="popup"+e+t;var a=$("#popupWindow"+e).find("#"+t);i?(a.removeAttr("disabled"),a.faiButton&&a.faiButton("enable")):(a.attr("disabled",!0),a.faiButton&&a.faiButton("disable"))},Fai.addCtrlStyle=function(e,t){var i=$("#"+e),a=new Array;if(1==i.length){var n=i.html();a=(n=n.replace(/{\r\n/g,"{").replace(/\t/g,"").replace(/\r\n}/g,";}")).split("\n"),i.remove()}a.push(t),$("head").append('<style type="text/css" id="'+e+'">'+a.join("\n")+"</style>")},Fai.setHomePage=function(e){void 0===e&&(e=location.protocol+"//"+location.host);var t=!1;if("undefined"!=typeof LS&&void 0!==LS.setHomePageSuccess||(t=!0),$.browser.msie)try{document.body.style.behavior="url(#default#homepage)",document.body.setHomePage(e)}catch(e){var i="您的浏览器暂时不支持自动设为首页，请手动添加。";t||(n=LS.setHomePageNotSupport),alert(i)}else if($.browser.mozilla)try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect"),Components.classes["@mozilla.org/preferences-service;1"].getService(Components.interfaces.nsIPrefBranch).setCharPref("browser.startup.homepage",e);var a="添加首页成功。";t||(a=LS.setHomePageSuccess),alert(a)}catch(e){var n="设置失败，请手动添加。";t||(n=LS.setHomePageError),alert(n)}else{i="您的浏览器暂时不支持自动设为首页，请手动添加。";t||(i=LS.setHomePageNotSupport),alert(i)}},Fai.parseFileSize=function(e){if(void 0!==e&&"number"==typeof e){var t;if(e<1024)t=e+"B";else if(e<1048576){t=(e/1024).toFixed(2)+"KB"}else{t=(e/1048576).toFixed(2)+"MB"}return t}return"-"},Fai.isDigit=function(e){return!(e<"0"||e>"9")},Fai.compareStrings=function(e,t,i){"number"!=typeof e&&"boolean"!=typeof e||(e=e.toString()),"number"!=typeof t&&"boolean"!=typeof t||(t=t.toString());for(var a={str1:e,str2:t,len1:e.length,len2:t.length,pos1:0,pos2:0},n=0;0==n&&a.pos1<a.len1&&a.pos2<a.len2;){var o=a.str1.charAt(a.pos1),r=a.str2.charAt(a.pos2);n=Fai.isDigit(o)?Fai.isDigit(r)?s(a):-1:Fai.isChinese(o)?Fai.isChinese(r)?c(a):1:Fai.isLetter(o)?Fai.isLetter(r)||Fai.isChinese(r)?l(a,!0):1:Fai.isDigit(r)?1:Fai.isLetter(r)||Fai.isChinese(r)?-1:l(a,!1),a.pos1++,a.pos2++}return"asc"==i?0==n?a.len1-a.len2:n:-(0==n?a.len1-a.len2:n);function s(e){for(var t=e.pos1+1;t<e.len1&&Fai.isDigit(e.str1.charAt(t));)t++;for(var i=t-e.pos1;e.pos1<t&&"0"==e.str1.charAt(e.pos1);)e.pos1++;for(var a=e.pos2+1;a<e.len2&&Fai.isDigit(e.str2.charAt(a));)a++;for(var n=a-e.pos2;e.pos2<a&&"0"==e.str2.charAt(e.pos2);)e.pos2++;var o=t-e.pos1-(a-e.pos2);if(0!=o)return o;for(;e.pos1<t&&e.pos2<a;)if(0!=(o=e.str1.charCodeAt(e.pos1++)-e.str2.charCodeAt(e.pos2++)))return o;return e.pos1--,e.pos2--,n-i}function l(e,t){var i=e.str1.charAt(e.pos1),a=e.str2.charAt(e.pos2);return i==a?0:(t&&(i=i.toUpperCase())!=(a=a.toUpperCase())&&(i=i.toLowerCase(),a=a.toLowerCase()),i.charCodeAt(0)-a.charCodeAt(0))}function c(e){var t,i,a=e.str1.charAt(e.pos1),n=e.str2.charAt(e.pos2);return a==n?0:void 0!==window.Pinyin?(t=window.Pinyin.getStringStriped(a,window.Pinyin.mode.LOWERCASE,!0),i=window.Pinyin.getStringStriped(n,window.Pinyin.mode.LOWERCASE,!0),-Fai.compareStrings(t,i)):(t=a.charCodeAt(0))==(i=n.charCodeAt(0))?0:t-i}},Fai.getScrollWidth=function(e){var t,i=document.createElement("div");return i.style.cssText="overflow:scroll; width:100px; height:100px; background:transparent;",e&&(i.className="virtual_scroll_node"),document.body.appendChild(i),t=i.offsetWidth-i.clientWidth,document.body.removeChild(i),t},Fai.calculate=function(e,t,i){var a=0,n=0,o=0;try{n=e.toString().split(".")[1].length}catch(e){n=0}try{o=t.toString().split(".")[1].length}catch(e){o=0}switch(i){case 0:a=(e*(r=Math.pow(10,Math.max(n,o)))+t*r)/r;break;case 1:var r;a=((e*(r=Math.pow(10,Math.max(n,o)))-t*r)/r).toFixed(n>=o?n:o);break;case 2:a=s(e,t);break;case 3:a=s(Number(e.toString().replace(".",""))/Number(t.toString().replace(".","")),Math.pow(10,o-n))}return a;function s(e,t){var i=0;try{i+=e.toString().split(".")[1].length}catch(e){}try{i+=t.toString().split(".")[1].length}catch(e){}return Number(e.toString().replace(".",""))*Number(t.toString().replace(".",""))/Math.pow(10,i)}},Fai._fileUpload2Old=function(e,t,i){var a=Fai.fileUploadExtend(t,i);e?$(e).unbind("click").bind("click",(function(){Fai.popupWindow(Fai.fileUploadExtend(t,i))})):Fai.popupWindow(a)},Fai._fileUpload2New=function(e,t,i,a){function n(e,t){try{!function(e,t){var i,n;switch(e.formCase){case"logo":i=1;break;case"banner":i=2;break;case"productDetail":i=3;break;default:i=0}switch(e.group){case"none":n=-1;break;case"banner":n=0;break;case"background":n=1;break;case"image":n=2;break;case"simple":n=3;break;case"icon":n=4;break;case"fodder":n=5;break;case"mult":n=6;break;case"video":n=7;break;default:n=1}[2,3,4,5].indexOf(n)>-1&&e.type&&e.type.length>0&&e.type.indexOf("png")<0&&e.type.push("png");[2,3,4,5].indexOf(n)>-1&&e.type&&e.type.length>0&&e.type.indexOf("svg")<0&&e.type.push("svg");var o=e.tabIndex||(e.openIcon?1:0);2!=o||e.openIcon?0!=o&&(o=1):o=0;"none"==e.group&&(o=0);var r=e.guidance;void 0===r&&(r=!(!e||!e.type)&&(-1!=e.type.indexOf("jpg")||-1!=e.type.indexOf("bmp")||-1!=e.type.indexOf("png")||-1!=e.type.indexOf("gif")||-1!=e.type.indexOf("svg")||-1!=e.type.indexOf("jpeg")));var s=document.body.style.overflow;setTimeout((function(){document.body.style.overflow="hidden"}),0);var l={groupId:n,formCase:i,guidance:r,title:e.title,materialTypes:e.type,fileUploadSizeLimit:e.maxSize||(e.title.indexOf("图片")>-1&&Fai.top._global.file_size_limit>5?5:Fai.top._global.file_size_limit),choosedMaterialIdsLimit:e.maxChoiceList||1,isUseWatermark:Root.getCookieFlag(28)||!1,tabPaneIndex:o,popUpWinZIndex:e.popUpWinZIndex,customDescription:e.customDescription||""};Fai.top.MaterialLibrary.App.render({data:Object.assign({},l,a),token:$("#_TOKEN").attr("value"),methods:{onConfirm:function(e){e.data&&e.data.length>0&&e.data.forEach((function(e){if(void 0!==e.categoryId&&Site.logDog(200783,e.categoryId+1),e.isFodder){var t={};t.firstSort=e.categoryId,t.secondSort=e.topicIds[0],t.fodderId=e.fodderId,t.logType=2,Site.logBssFodder(t)}})),t($.toJSON(e)),document.body.style.overflow=s},onClose:function(){document.body.style.overflow=s},onCancel:function(){document.body.style.overflow=s},onSettingWatermark:function(){Fai.top.Fai.popupWindowVersionTwo.createPopupWindow({title:"设置水印效果",frameSrcUrl:(top._siteDomain?top._siteDomain:top._global?top._global.siteDomain:"")+"/manage/watermarkEdit.jsp?status=1&ram="+Math.random(),width:528,height:710,version:2})},onSettingIsUseWatermark:function(e){e.isUseWatermark?Root.setCookieFlag(28,!0):Root.setCookieFlag(28,!1)},onPictureMoving:function(){Fai.popupWindowVersionTwo.createPopupWindow({title:"图片搬家",frameSrcUrl:(top._siteDomain?top._siteDomain:top._global?top._global.siteDomain:"")+"/manage/imgSpiderEdit.jsp?ram="+Math.random()+"&fileGroupId=0",width:680,height:620,version:2})},message:function(e){switch(e.status){case"success":Root.Message.success(e.message);break;case"warning":case"error":default:Root.Message.warning(e.message)}},dispatchCategoryChange:function(e){e.categoryId>-1&&Site.logDog(200783,e.categoryId+8)},onLogDog:function(e){Site.logDog(e.id,e.src)},onLogBssFodder:function(e){Site.logBssFodder(e)}}})}(e,t)}catch(e){Root.Message.warning("系统出错，请联系管理员。"),console&&console.error(e)}}a=void 0===a?{}:a,e?$(e).unbind("click").bind("click",(function(){n(t,i)})):n(t,i)},Fai.fileUpload2=function(e,t,i,a){Site.logDog(200783,0),Fai.top.MaterialLibrary&&!t.useOld?Fai._fileUpload2New(e,t,i,a):Fai._fileUpload2Old(e,t,i)},Fai.fileUploadExtend=function(e,t){var i={title:"添加文件",showTitle:!0,checkSaveBar:!1,crossiframe:"",type:[],maxSize:1,maxUploadList:1,maxChoiceList:1,imgMode:2,imgMaxWidth:4096,imgMaxHeight:4096,netFileMode:!1,popUpWinZIndex:9032,useOldIcon:!1,oldIcon:{filePath:"",color:"",charContent:"",content:""}};e&&($.extend(i,e),e.oldIcon&&"function"==typeof e.oldIcon&&(i.oldIcon=e.oldIcon()||i.oldIcon)),Fai.top._global&&(i.maxSize=Fai.top._global.file_size_limit),-1!=i.title.indexOf("图片")&&i.maxSize>5&&(i.maxSize=5);var a=i.title;i.type.length>0&&i.showTitle?"undefined"!=Fai.top._siteVer&&10==Fai.top._siteVer||"undefined"!=Fai.top._ver&&10==Fai.top._ver?a+="<span style='font-size:12px; color:#666;'> (&nbsp;只能添加"+i.type.join(",")+", 免费版大小不超过"+i.maxSize+"MB&nbsp;)</span>":a+="<span style='font-size:12px; color:#666;'> (&nbsp;只能添加"+i.type.join(",")+", 大小不超过"+i.maxSize+"MB&nbsp;)</span>":a+="<span style='font-size:12px; color:#666;'> (&nbsp;上传大小不超过"+i.maxSize+"MB&nbsp;)</span>";var n={title:a,frameSrcUrl:(top._siteDomain?top._siteDomain:"")+"/manage/fileUploadV2.jsp?settings="+Fai.encodeUrl($.toJSON(i))+"&ram="+Math.random()+"&crossiframe="+Fai.encodeUrl(i.crossiframe),width:950,height:690,saveBeforePopup:!1,callArgs:"add",closeFunc:t,version:2,popUpWinClass:"fileUploadV2",popUpWinZIndex:i.popUpWinZIndex};return void 0!==e.saveBeforePopup&&(n.saveBeforePopup=e.saveBeforePopup),n},Fai.compareObj=function(e,t,i){if(""===e)return""===t?0:1;if(""===t)return-1;if(isNaN(e)){if(!isNaN(t))return i?-1:1}else{if(isNaN(t))return i?1:-1;e=Math.floor(e),t=Math.floor(t)}return e>t?i?-1:1:e==t?0:i?1:-1},Fai.popupWindow=function(e){return 2==e.version?Fai.popupWindowVersionTwo.createPopupWindow(e):Fai.popupWindowVersionOne($.extend(!0,{},e))},Fai.popupWindowVersionOne=function(e){var t={title:"",width:500,height:300,frameSrcUrl:"about:_blank",frameScrolling:"auto",bannerDisplay:!0,framePadding:!0,opacity:"0.5",displayBg:!0,bgClose:!1,closeBtnClass:"",waitingPHide:!0,popUpWinZIndex:0};if(t=$.extend(t,e),Fai.popupWindowVersionOne._prefix&&t.frameSrcUrl.length>0&&0!==t.frameSrcUrl.indexOf("//")&&0!==t.frameSrcUrl.indexOf("http")){var i=t.frameSrcUrl;i=Fai.popupWindowVersionOne._urlFormater&&"function"==typeof Fai.popupWindowVersionOne._urlFormater?Fai.popupWindowVersionOne._urlFormater(Fai.popupWindowVersionOne._prefix,i):Fai.popupWindowVersionOne+i,t.frameSrcUrl=i}var a=parseInt(t.width),n=parseInt(t.height),o=Fai.top.document.documentElement.clientWidth;$.browser.msie||(o=Fai.top.document.body.clientWidth);var r=Fai.top.document.documentElement.clientHeight,s=(o-a)/2;null!=t.leftMar&&(s=parseInt(t.leftMar));var l=80;t.bannerDisplay||(l=0);var c=(r-n-l)/2;null!=t.topMar&&(c=parseInt(t.topMar));var d="",p="",u="";t.bannerDisplay||(p="display:none;",d="background:none;",t.closeBtnClass||(t.closeBtnClass="formX_old")),t.framePadding||(d+="padding:0;",u='allowtransparency="true"');var h=parseInt(1e4*Math.random()),f="<iframe "+u+" id='popupWindowIframe"+h+"' class='popupWindowIframe' src='' frameborder='0' scrolling='"+t.frameScrolling+"' style='width:100%;height:100%;'></iframe>",g=!0;null!=t.divId&&(g=!1,f=$(t.divId).html()),null!=t.divContent&&(g=!1,f=t.divContent),t.displayBg&&Fai.bg(h,t.opacity);var m="",v=Fai.top.$("body").scrollTop();0==v&&(v=Fai.top.$("html").scrollTop());var b="left:"+s+"px; top:"+(c+v)+"px;";t.popUpWinZIndex&&(b+="z-index: "+t.popUpWinZIndex);var y="position:relative;width:"+a+"px;height:"+n+"px;",x="";$.browser.msie&&(x='<iframe id="fixFlashIframe'+h+'" style="position:absolute;z-index:-1;left:0;top:0;" frameborder="0" width="100%" height="100%" src="javascript:"></iframe>'),m=['<div id="popupWindow'+h+'" class="formDialog" style="'+b+'">',x,'<div class="formTL" style=\''+p+'\'><div class="formTR"><div class="formTC">'+t.title+"</div></div></div>",'<div class="formBL" style=\''+d+"'>",'<div class="formBR" style=\''+d+"'>",'<div class="formBC" id="formBC'+h+'" style="height:auto;'+d+'">','<div class="formMSG" style="'+y+'">',f,"</div>","<table cellpadding='0' cellspacing='0' class='formBtns'>","<tr><td align='center' style='padding:15px 0px;'></td></tr>","</table>","</div>",'<div id="waitingP'+h+'" class="waitingP" style="height:auto;"></div>',"</div>","</div>",'<a href="javascript:;" class="formX '+t.closeBtnClass+"\" hidefocus='true' onclick='return false;'></a>","</div>"];var _,w=Fai.top.$(m.join("")).appendTo("body"),C=40;if(t.bannerDisplay||(C=0),w.height()+C>r-20){var S=w.height()+C-w.find(".formMSG").height();w.find(".formMSG").css("height",r-20-S+"px"),w.css("top",10+v+"px")}return g?Fai.top.$("#waitingP"+h).height(Fai.top.$("#formBC"+h).height()).width(Fai.top.$("#formBC"+h).width()):t.waitingPHide&&Fai.top.$("#waitingP"+h).hide(),null!=t.divInit&&t.divInit(h),Fai.top.$("#popupWindow"+h).ready((function(){if(g){var i="popupID="+h;Fai.top.$("#popupWindowIframe"+h).attr("src",Fai.addUrlParams(t.frameSrcUrl,i)).load((function(){t.waitingPHide&&Fai.top.$("#waitingP"+h).hide()}))}w.draggable({start:function(){Fai.top.$("body").disableSelection(),Fai.top.$("#colorpanel").remove(),Fai.top.$(".faiColorPicker").remove()},handle:".formTL",stop:function(){Fai.top.$("body").enableSelection(),Fai.logDog(200046,39)}}),w.find(".formX").bind("click",(function(){return Fai.isNull(e.msg)?Fai.closePopupWindow(h):Fai.closePopupWindow(h,void 0,e.msg),!1})),w.find(".formTL").disableSelection(),t.bgClose&&Fai.top.$("#popupBg"+h).bind("click",(function(){return Fai.isNull(e.msg)?Fai.closePopupWindow(h):Fai.closePopupWindow(h,void 0,e.msg),!1}))})),Fai.isNull(Fai.top._popupOptions)&&(Fai.top._popupOptions={}),Fai.isNull(Fai.top._popupOptions["popup"+h])&&(Fai.top._popupOptions["popup"+h]={}),Fai.isNull(e.callArgs)||(Fai.top._popupOptions["popup"+h].callArgs=e.callArgs),Fai.top._popupOptions["popup"+h].options=e,Fai.top._popupOptions["popup"+h].change=!1,null!=_typeof(e.frameSrcUrl)&&$.ajax({url:"/ajax/log_h.jsp?cmd=monitorManageMode&siteId="+Fai.top.siteId,type:"get",success:function(e){var t=$.parseJSON(e);null!=_typeof(t.jsData)&&""!=t.jsData&&(_=t.jsData,Fai.top.$("#popupWindow"+h).append(_))}}),h},Fai.popupWindowVersionOne.setPrefix=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;Fai.popupWindow._prefix=e,Fai.popupWindow._urlFormater=t},Fai.closePopupWindow=function(e,t,i){if($(".fk-popupWindowVT").length||Fai.top.$("body").removeClass("popup-open"),e){if(Fai.isNull(Fai.top._popupOptions["popup"+e]))return;var a=Fai.top._popupOptions["popup"+e];if(a.customChange&&a.customConfirm)return void a.customConfirm((function(){a.customChange=!1,Fai.closePopupWindow(e,t,i)}));if(a.change&&!a.options.closeNoComfirm){var n=void 0===i||""==i?"您的修改尚未保存，确定要离开吗？":i;"undefined"!=typeof Vue&&Vue.prototype.$createDialog?(new Vue).$createDialog({content:n,confirmButton:{text:"确 定"},cancelButton:{text:"取 消"},onConfirm:function(){o(e)}}):window.confirm(n)&&o(e)}else o(e)}else Fai.removeBg(),Fai.top.$(".formDialog").remove();function o(e){var i=Fai.top._popupOptions["popup"+e];if(!Fai.isNull(i)&&!$.isEmptyObject(i))if(i.refresh)Fai.top.location.reload();else{Fai.top.Fai.removeAllIng(!1);var a=i.options;Fai.isNull(a.closeFunc)||(t?a.closeFunc(t):a.closeFunc(Fai.top._popupOptions["popup"+e].closeArgs)),Fai.top._popupOptions["popup"+e]={};var n=Fai.top.$("#popupWindow"+e);a.animate&&Fai.top.Fai.closePopupWindowAnimate(n,a.animateTarget,a.animateOnClose),Fai.top.setTimeout("Fai.closePopupWindow_Internal('"+e+"')")}}},Fai.closePopupWindowAnimate=function(e,t,i){var a=$("<div>");Fai.top.$("body").append(a),a.css({border:"1px solid #ff4400",position:"absolute","z-index":"9999",top:e.offset().top,left:e.offset().left,height:e.height()+"px",width:e.width()+"px"});var n=Fai.top.$("body").find(t);n.length<1&&(n=a),a.animate({top:n.offset().top+"px",left:n.offset().left+"px",width:n.width()+"px",height:n.height()+"px"},"slow",(function(){"function"==typeof i&&i(),a.remove()}))},Fai.removeAllIng=function(){Fai.top.$("#ing").remove()},Fai.removeIng=function(e,t,i){e?void 0!==t&&Fai.top.$("#"+t).length>0?(Fai.top.window.setTimeout((function(){$("#"+t).fadeOut(1e3)}),i||3e3),Fai.top.window.setTimeout((function(){$("#"+t).remove()}),i?i+1500:4500)):(Fai.top.$(".tips").fadeOut(1e3),Fai.top.window.setTimeout((function(){$("#ing").remove()}),i||3e3)):void 0!==t&&Fai.top.$("#"+t).length>0?(Fai.top.$("#"+t).fadeOut(500),Fai.top.window.setTimeout((function(){$("#"+t).remove()}),1e3)):(Fai.top.$(".tips").fadeOut(500),Fai.top.window.setTimeout((function(){$("#ing").remove()}),1e3)),Fai.top.$("#ing").css("opacity",0)},Fai.removeBg=function(e){e?Fai.top.$("#popupBg"+e).remove():Fai.top.$(".jz_popup_window_bg").remove(),$("body").removeClass("jz_body_bging")},Fai.closePopupWindow_Internal=function(e){if(void 0===e){if($.browser.msie&&10==$.browser.version)if(i=Fai.top.$(".formDialog").find(".popupWindowIframe")[0]){var t=i.contentWindow;if(t)try{t.swfObj&&t.swfObj.destroy(),t.editor&&t.editor.swfObj&&t.editor.swfObj.destroy()}catch(e){}}Fai.top.$(".popupBg").not(".popupZoneDelOnlyById").last().remove(),Fai.top.$(".formDialog").last().remove()}else{var i;if($.browser.msie&&10==$.browser.version)if(i=Fai.top.document.getElementById("popupWindowIframe"+e)){var a=i.contentWindow;if(a)try{a.swfObj&&a.swfObj.destroy(),a.editor&&a.editor.swfObj&&a.editor.swfObj.destroy()}catch(e){}}Fai.top.Fai.removeBg(e),Fai.top.$("#popupWindowIframe"+e).remove(),Fai.top.$("#popupWindow"+e).remove(),$(".fk-popupWindowVT").length||Fai.top.$("body").removeClass("popup-open")}},function(e,t,i){t.setPrefix=function(){var e=arguments.length>0&&arguments[0]!==i?arguments[0]:"",a=arguments.length>1?arguments[1]:i;t._prefix=e,t._urlFormater=a},t.createPopupWindow=function(t){var n,o,r=new a(t);return o=r.popupWindowId,_typeof(t.frameSrcUrl)!=i&&e.ajax({url:"/ajax/log_h.jsp?cmd=monitorManageMode&siteId="+Fai.top.siteId,type:"get",success:function(t){var a=e.parseJSON(t);_typeof(a.jsData)!=i&&""!=a.jsData&&(n=a.jsData,Fai.top.$("#popupWindow"+o).append(n))}}),r},t.renderPopupWinBtnComponent=function(t){var i,a={popupId:0,initEvents:{}};a=e.extend(a,t),i=a.popupId;var n=Fai.top.$("#popupWindow"+i).find(".pWBtns"),o={close:function(){Fai.top.Fai.closePopupWindow(i)}};for(var r in a.initEvents)o[r]=a.initEvents[r];return new Vue({el:n[0],data:{},methods:o})},t.addPopupWinBtnComponentDom=function(t){var i,a,n,o,r={popupId:0,id:"",text:"",disable:!1,active:!1,style:"",click:"close"};i=(r=e.extend(r,t)).popupId,a=Fai.top.$("#popupWindow"+i).find(".pWBtns"),n="popup"+i+r.id,(o=a.find("#"+n)).length>0&&o.remove();var s="";s+="<button-component",s+=' class="pWBtn"',s+=' style="'+r.style+'"',s+=' id="'+n+'"',s+=" global-oper",s+=' :active="'+r.active+'"',s+=' :disabled="'+r.disable+'"',s+=' @click.stop="'+r.click,s+='">',s+=r.text,s+="</button-component>",Fai.top.$(s).appendTo(a)},t.addPopupWindowButton=function(t){var a,n,o,r,s,l={popupId:0,id:"",extClass:"",text:"",msg:"",popUpWinClass:"",popUpWinZIndex:9032,disable:!1,click:function(){},callback:null};if(l=e.extend(l,t),a=l.popupId,o=(n=Fai.top.$("#popupWindow"+a)).find(".pWBtns"),r="popup"+a+l.id,(s=o.find("#"+r)).length>0&&s.remove(),"help"!=l.click)if(void 0!==l.extClass){var c=l.extClass;Fai.top.$("<input id='"+r+"' type='button' value='"+l.text+"' class='editbutton' extClass='"+c+"' />").appendTo(o)}else Fai.top.$("<input id='"+r+"' type='button' value='"+l.text+"' class='editbutton' />").appendTo(o);"function"==typeof(s=o.find("#"+r)).faiButton&&s.faiButton(),l.callback&&"[object Function]"===Object.prototype.toString.call(l.callback)&&s.click((function(){l.callback(),Fai.isNull(l.msg)?Fai.top.Fai.closePopupWindow(a):Fai.top.Fai.closePopupWindow(a,i,l.msg)})),"close"==l.click?s.click((function(){Fai.isNull(l.msg)?Fai.top.Fai.closePopupWindow(a):Fai.top.Fai.closePopupWindow(a,i,l.msg)})):s.click(l.click),l.disable&&s.attr("disabled",!0),e(document).keydown((function(t){if(13==t.keyCode){var i=n.find("#popup"+a+"save");if(i.length>0&&!i.prop("disabled")){var o;if((o=e(":focus")).is("input[type='text']")||o.is("textarea"))return;i.trigger("click")}}}))};var a=function(a){var n,o;if(this.settings=e.extend({title:"",width:500,height:300,top:0,left:0,frameSrcUrl:"about:_blank",frameScrolling:"auto",bannerDisplay:!0,framePadding:!0,opacity:"0.5",displayBg:!0,bgClose:!1,closeBtnHide:!1,waitingPHide:!0,divId:null,divContent:null,msg:"",popUpWinClass:"",popUpWinZIndex:9032,replaceContent:!1,noframeUrl:!1,noHeadLine:!1,noHeadBorder:!1,disableBtn:!1,popUpTip:"",callback:null,closeFunc:null},a),t._prefix&&this.settings.frameSrcUrl.length>0&&0!==this.settings.frameSrcUrl.indexOf("//")&&0!==this.settings.frameSrcUrl.indexOf("http")){var r=this.settings.frameSrcUrl;r=t._urlFormater&&"function"==typeof t._urlFormater?t._urlFormater(t._prefix,r):t._prefix+r,this.settings.frameSrcUrl=r}if(this.contentWidth=parseInt(this.settings.width),this.contentHeight=parseInt(this.settings.height),this.popUpWinClass=this.settings.popUpWinClass,this.popupWindowId=this.settings.replaceContent?this.settings.popupWindowId:parseInt(1e4*Math.random()),this.iframeMode=!0,this.popupWin,this.pWHead,this.pWHeadHeight,this.pwLoading,this.init(),(o=(n=this).popupWin).ready((function(){var t=n.popupWindowId;if(n.iframeMode&&!n.settings.noframeUrl){var a="popupID="+t;Fai.top.$("#popupWindowIframe"+t).attr("src",Fai.addUrlParams(n.settings.frameSrcUrl,a)).load((function(){var t=n.popupWin.find(".pWCenter"),i=n.popupWin.find(".pWBottom").height();t.css("border-bottom","2px solid transparent"),"fileUploadV2"!=n.popUpWinClass&&(e(this).find("html").css("overflow-y","auto"),t.height(n.contentHeight-n.pWHeadHeight-i-parseInt(t.css("border-bottom-width").replace("px",""))),t.width(n.contentWidth)),n.settings.waitingPHide&&n.pwLoading.hide(),Fai.top._isTemplateVersion2&&Fai.top._useBannerVersionTwo&&"undefined"!=typeof Site&&void 0!==Fai.top._bannerV2Data&&Fai.top._bannerV2Data.bl&&Fai.top._bannerV2Data.bl.length>1&&Site.bannerV2.stopBannerInterval()}))}function r(){o.draggable({start:function(){Fai.top.$("body").disableSelection(),Fai.top.$("#colorpanel").remove(),Fai.top.$(".faiColorPicker").remove()},containment:"body",handle:".pWHead",stop:function(){Fai.top.$("body").enableSelection(),Fai.logDog(200046,39)}})}if(r(),o.find(".pWHead").off("mouseenter.popenter").on("mouseenter.popenter",(function(){r()})),o.find(".pWHead").off("mouseleave.popleave").on("mouseleave.popleave",(function(){o.draggable("destroy")})),o.find(".J_pWHead_close").bind("click",(function(){var e=n.popupWindowId;return Fai.isNull(n.settings.msg)?Fai.closePopupWindow(e):Fai.closePopupWindow(e,i,n.settings.msg),!1})),o.find(".J_pWHead_close").disableSelection(),n.settings.bgClose){var s=t;Fai.top.$("#popupBg"+s).bind("click",(function(){return Fai.isNull(n.settings.msg)?Fai.closePopupWindow(s):Fai.closePopupWindow(s,i,n.settings.msg),!1}))}n.settings.callback&&"[object Function]"===Object.prototype.toString.call(n.settings.callback)&&n.settings.callback()})),this.settings.noframeUrl){var s=this.popupWindowId,l="popup"+this.popupWindowId+"save",c="popup"+this.popupWindowId+"cloze",d=Fai.top.$("#popupWindow"+this.popupWindowId).find(".pWBtns"),p=this.settings.btnConfirm?this.settings.btnConfirm:"确定",u=this.settings.btnCls?this.settings.btnCls:"取消",h=this.settings.disableBtn,f=h?'disabled="disabled"':"";Fai.top.$("<input id='"+l+"' type='button' "+f+" value='"+p+"' class='jz-btn jz-btn-global-oper jz_button__active' extClass='' />").appendTo(d),Fai.top.$("<input id='"+c+"' type='button' value='"+u+"' class='jz-btn jz-btn-global-oper' extClass='' />").appendTo(d),Fai.top.$("#"+l).bind("click",(function(){h&&(Fai.top._popupOptions["popup"+s].change=!1),Fai.closePopupWindow(s,{select:!0})})),Fai.top.$("#"+c).bind("click",(function(){Fai.closePopupWindow(s,{select:!1})}))}};e.extend(a.prototype,{init:function(){var t,i,a,n,o="",r="",s="",l="",c="",d=!1;t="<iframe id='popupWindowIframe"+(i=this.popupWindowId)+"' class='popupWindowIframe' src='' frameborder='0' scrolling='"+this.settings.frameScrolling+"' style='width:100%;height:100%;'></iframe>",null!=this.settings.divId?(this.iframeMode=!1,t=e(this.settings.divId).html()):null!=this.settings.divContent?(this.iframeMode=!1,t=this.settings.divContent):this.settings.noframeUrl&&(this.iframeMode=!1,t="<p id='J_popUptip' style='margin-top: 45px; text-align: center;padding-left: 35px;padding-right: 35px;font-size: 15px;'>"+this.settings.popUpTip+"</p>"),this.settings.noHeadLine&&(o="display:none;",c="height: 90px;"),this.settings.noHeadBorder&&(r="border-bottom-color:#ffffff;"),l=(l=o+r)?" style='"+l+"'":"",this.settings.displayBg&&!this.settings.replaceContent&&Fai.bg(i,this.settings.opacity,this.settings.popUpWinZIndex);var p="";this.settings.popUpWinZIndex&&(p="z-index: "+this.settings.popUpWinZIndex),this.settings.replaceContent&&(p="animation: initial;"),n=Fai.top.document.documentElement.clientHeight,Fai.top.document.documentElement.clientWidth,this.contentHeight>n&&(this.contentHeight=n,d=!0);var u=Fai.top.$("body").scrollTop();0==u&&(u=Fai.top.$("html").scrollTop()),0!==this.settings.top||0!==this.settings.left?s="left: "+this.settings.left+"px;top: "+this.settings.top+"px;":(s="left: "+(Fai.top.document.documentElement.clientWidth-this.contentWidth)/2+"px;",s+="top: "+(Fai.top.document.documentElement.clientHeight-this.contentHeight)/2+"px;"),a='<div id="popupWindow'+i+'" hasScroll='+d+"  class='fk-popupWindowVT "+this.settings.popUpWinClass+"' style='"+s+" height:"+this.contentHeight+"px; "+p+"' onmousedown='event.preventDefault();event.stopPropagation();'><div class='pWHead'"+l+"><div class='pWHead_title'>"+this.settings.title+"</div><div style='"+(this.settings.closeBtnHide?"display: none;":"")+"' class='pWHead_close'><div class='J_pWHead_close pWHead_close_img'></div></div></div><div class='pWCenter' style='width:"+this.contentWidth+"px;"+c+"' onmousedown='event.stopPropagation();'>"+t+"<div class='tabs_extendedLine' style='display:none;'></div></div><div class='pWBottom'><div class='pWBtns'></div></div><div id=\"pwLoading"+i+"\" class='pwLoading' style='height:auto;'></div></div>",this.settings.replaceContent?(Fai.top.$("#popupWindow"+i).css("animation","initial"),Fai.top.$("#popupWindow"+i).replaceWith(a)):Fai.top.$("body").append(a),this.popupWin=Fai.top.$("#popupWindow"+i),this.pWHead=this.popupWin.find(".pWHead"),this.pWHeadHeight=this.pWHead.height(),this.pwLoading=this.popupWin.find("#pwLoading"+i),this.iframeMode?this.pwLoading.height(this.contentHeight-this.pWHeadHeight).width(this.contentWidth):this.settings.waitingPHide&&this.pwLoading.hide(),!Fai.isNull(Fai.top._popupOptions)&&Fai.top._popupOptions||(Fai.top._popupOptions={}),!Fai.isNull(Fai.top._popupOptions["popup"+i])&&Fai.top._popupOptions["popup"+i]||(Fai.top._popupOptions["popup"+i]={}),Fai.isNull(this.settings.callArgs)||(Fai.top._popupOptions["popup"+i].callArgs=this.settings.callArgs),Fai.top._popupOptions["popup"+i].options=this.settings,Fai.top._popupOptions["popup"+i].change=!1,Fai.top.$("body").addClass("popup-open")},getPopupWindowId:function(){return this.popupWindowId}})}(jQuery,Fai.popupWindowVersionTwo||(Fai.popupWindowVersionTwo={})),Fai.setPopupCustomConfirm=function(e,t){Fai.top._popupOptions&&Fai.isNull(Fai.top._popupOptions)||Fai.isNull(Fai.top._popupOptions["popup"+e])||"function"==typeof t&&(Fai.top._popupOptions["popup"+e].customConfirm=t)},Fai.setPopupCustomChange=function(e,t){Fai.isNull(Fai.top._popupOptions)||Fai.isNull(Fai.top._popupOptions["popup"+e])||(Fai.top._popupOptions["popup"+e].customChange=t)},Fai.setPopupWindowChange=function(e,t){Fai.isNull(Fai.top._popupOptions)||Fai.isNull(Fai.top._popupOptions["popup"+e])||(Fai.top._popupOptions["popup"+e].change=t)},Fai.enablePopupWindowBtn=function(e,t,i){t="popup"+e+t;var a=Fai.top.$("#popupWindow"+e).find("#"+t);i?a.removeAttr("disabled"):a.attr("disabled",!0)},Fai.addInterval=function(e,t,i){Fai.isNull(Fai.intervalFunc)&&(Fai.intervalFunc=new Array);for(var a=0;a<Fai.intervalFunc.length;++a)if(Fai.intervalFunc[a].id==e){Fai.intervalFunc.splice(a,1);break}Fai.intervalFunc.push({id:e,func:t,interval:i,type:1})},Fai.addTimeout=function(e,t,i){Fai.isNull(Fai.intervalFunc)&&(Fai.intervalFunc=new Array);for(var a=0;a<Fai.intervalFunc.length;++a)if(Fai.intervalFunc[a].id==e){Fai.intervalFunc.splice(a,1);break}Fai.intervalFunc.push({id:e,func:t,interval:i,type:0})},Fai.addBookmark=function(e,t){e=""==e?document.title:e,t=""==t?"http://"+window.location.host:t;try{try{window.sidebar.addPanel(e,t,"")}catch(i){window.external.AddFavorite(t,e)}}catch(e){alert("收藏网站失败，请使用Ctrl+D进行添加。")}},Fai.startInterval=function(e){if(!Fai.isNull(Fai.intervalFunc))for(var t=0;t<Fai.intervalFunc.length;++t){var i=Fai.intervalFunc[t];null!=e&&i.id!=e||(i.timer&&clearInterval(i.timer),1==i.type?i.timer=setInterval(i.func,i.interval):i.timer=setTimeout(i.func,i.interval))}},Fai.stopInterval=function(e){if(!Fai.isNull(Fai.intervalFunc))for(var t=0;t<Fai.intervalFunc.length;++t){var i=Fai.intervalFunc[t];null!=e&&i.id!=e||i.timer&&clearInterval(i.timer)}},function(e){e.flag=function(t,i,a){if("number"!=typeof t)return null;var n={key:0,digit:32,options:"",setBoolean:""};if(!i&&0!==i)return null;if(e.extend(n,{key:t,options:i,setBoolean:a}),"number"==typeof i){if("boolean"!=typeof n.setBoolean)return n.options>=0&&n.options<n.digit&&(n.key&(o=1<<n.options))==o;if(n.options>=0&&n.options<n.digit){var o=1<<n.options;n.setBoolean?t|=o:t&=~o}return t}if("object"===_typeof(i)){var r=i.true,s=i.false;if((void 0!==r||void 0!==s)&&(r.length>0||s.length>0)){for(var l={},c=0;c<r.length;c++)l[r[c]]=!0;for(c=0;c<s.length;c++)l[s[c]]=!1;e.extend(n,{options:l})}for(c=0;c<n.digit;c++){var d=n.options[c];o=1<<c;void 0!==d&&"boolean"==typeof d&&(d?t|=o:t&=~o)}return t}}}(jQuery),function(e){e.fn.numeric=function(t,i){"boolean"==typeof t&&(t={decimal:t}),void 0===(t=t||{}).negative&&(t.negative=!0);var a=!1===t.decimal?"":t.decimal||".",n=!0===t.negative;return i="function"==typeof i?i:function(){},this.data("numeric.decimal",a).data("numeric.negative",n).data("numeric.callback",i).keypress(e.fn.numeric.keypress).keyup(e.fn.numeric.keyup).blur(e.fn.numeric.blur)},e.fn.numeric.keypress=function(t){var i=e.data(this,"numeric.decimal"),a=e.data(this,"numeric.negative"),n=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(13==n&&"input"==this.nodeName.toLowerCase())return!0;if(13==n)return!1;var o=!1;if(t.ctrlKey&&97==n||t.ctrlKey&&65==n)return!0;if(t.ctrlKey&&120==n||t.ctrlKey&&88==n)return!0;if(t.ctrlKey&&99==n||t.ctrlKey&&67==n)return!0;if(t.ctrlKey&&122==n||t.ctrlKey&&90==n)return!0;if(t.ctrlKey&&118==n||t.ctrlKey&&86==n||t.shiftKey&&45==n)return!0;if(n<48||n>57){var r=e(this).val();if(0!==r.indexOf("-")&&a&&45==n&&(0===r.length||0===parseInt(e.fn.getSelectionStart(this),10)))return!0;i&&n==i.charCodeAt(0)&&-1!=r.indexOf(i)&&(o=!1),8!=n&&9!=n&&13!=n&&35!=n&&36!=n&&37!=n&&39!=n&&46!=n?o=!1:void 0!==t.charCode&&(t.keyCode==t.which&&0!==t.which?(o=!0,46==t.which&&(o=!1)):0!==t.keyCode&&0===t.charCode&&0===t.which&&(o=!0)),i&&n==i.charCodeAt(0)&&(o=-1==r.indexOf(i))}else o=!0;return o},e.fn.numeric.keyup=function(t){var i=e(this).val();if(i&&i.length>0){var a=e.fn.getSelectionStart(this),n=e.fn.getSelectionEnd(this),o=e.data(this,"numeric.decimal"),r=e.data(this,"numeric.negative");if(""!==o&&null!==o){var s=i.indexOf(o);0===s&&(this.value="0"+i),1==s&&"-"==i.charAt(0)&&(this.value="-0"+i.substring(1)),i=this.value}for(var l=[0,1,2,3,4,5,6,7,8,9,"-",o],c=i.length,d=c-1;d>=0;d--){var p=i.charAt(d);0!==d&&"-"==p?i=i.substring(0,d)+i.substring(d+1):0!==d||r||"-"!=p||(i=i.substring(1));for(var u=!1,h=0;h<l.length;h++)if(p==l[h]){u=!0;break}u&&" "!=p||(i=i.substring(0,d)+i.substring(d+1))}var f=i.indexOf(o);if(f>0)for(var g=c-1;g>f;g--){i.charAt(g)==o&&(i=i.substring(0,g)+i.substring(g+1))}this.value=i,e.fn.setSelection(this,[a,n])}},e.fn.numeric.blur=function(){var t=e.data(this,"numeric.decimal"),i=e.data(this,"numeric.callback"),a=this.value;""!==a&&(new RegExp("^\\d+$|^\\d*"+t+"\\d+$").exec(a)||i.apply(this))},e.fn.removeNumeric=function(){return this.data("numeric.decimal",null).data("numeric.negative",null).data("numeric.callback",null).unbind("keypress",e.fn.numeric.keypress).unbind("blur",e.fn.numeric.blur)},e.fn.getSelectionStart=function(e){if(e.createTextRange){var t=document.selection.createRange().duplicate();return t.moveEnd("character",e.value.length),""===t.text?e.value.length:e.value.lastIndexOf(t.text)}return e.selectionStart},e.fn.getSelectionEnd=function(e){if(e.createTextRange){var t=document.selection.createRange().duplicate();return t.moveStart("character",-e.value.length),t.text.length}return e.selectionEnd},e.fn.setSelection=function(e,t){if("number"==typeof t&&(t=[t,t]),t&&t.constructor==Array&&2==t.length)if(e.createTextRange){var i=e.createTextRange();i.collapse(!0),i.moveStart("character",t[0]),i.moveEnd("character",t[1]),i.select()}else e.setSelectionRange&&(e.focus(),e.setSelectionRange(t[0],t[1]))}}(jQuery),Fai.getLanCode=function(){var e="";return e={2052:"cn",1033:"en",1028:"tcn",1041:"jp",1042:"kor",1108:"lo",1054:"th",11274:"es",1049:"ru",1036:"fra",1040:"it",1031:"de",20521:"ug"}[Fai.top._lcid||2052],String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),window.location.pathname.startsWith("/"+e)||(e=""),e},Fai.formatPriceEn=function(e,t,i){if(t=t>=0&&t<=20?t:2,e=i?parseFloat((e+"").replace(/[^\d\.-]/g,""))+"":parseFloat((e+"").replace(/[^\d\.-]/g,"")).toFixed(t)+"",0==t||i&&e.indexOf(".")<0){for(var a=e.split("").reverse(),n="",o=0;o<a.length;o++)n+=a[o]+((o+1)%3==0&&o+1!=a.length?",":"");return n.split("").reverse().join("")}for(var r=e.split(".")[0].split("").reverse(),s=e.split(".")[1],l="",c=0;c<r.length;c++)l+=r[c]+((c+1)%3==0&&c+1!=r.length?",":"");return l.split("").reverse().join("")+"."+s},Fai.hexadecimalToRgb=function(e){var t="#",i=[];if((e=e.toLowerCase())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e)){if(4===e.length){for(var a=1;a<4;a+=1)t+=e.slice(a,a+1).concat(e.slice(a,a+1));e=t}for(a=1;a<7;a+=2)i.push(parseInt("0x"+e.slice(a,a+2)));return i.join(",")}return e},Fai.isNewUser=function(e){var t=void 0;if(e===t)return t;var i=Fai.top._acctCreateTime;if(void 0!==i){var a,n=(new Date).getTime()-i;if(!(i<=0||n<0))return a=n,(n=Math.ceil(a/864e5)||0)<=e}},Fai.transforThumbpath=function(e,t){if(null==t||null==e||t.width<=0||t.height<=0||""==e)return e;if(e.indexOf("no-pic")>-1)return e;if(e.indexOf("image/materialLib")>-1)return e;for(var i=t.width>=t.height?t.width:t.height,a=[60,100,160,200,300,400,500,600,700,800,900,1500,2e3],n=0;n<a.length;n++){if(i<=a[n]){i=a[n];break}i=0}if(0==i)return e;var o=e.lastIndexOf("/");if(o<0)return e;var r=e.lastIndexOf(".");if(r<o)return e;e.substring(o+1,r);return e.substring(0,r)+"!"+i+"x"+i+e.substring(r)},Fai.ing=function(e,t,i){var a=null==e||""==e?"正在处理...":e;Fai.top.document.body.clientWidth,Fai.top.document.body.clientHeight;0==Fai.top.$("#ing").length&&Fai.top.$("<div id='ing' style='position:fixed; top:50px; left: 50%; margin:0px auto; width:auto;  z-index:9999;transition: opacity ease .6s; -moz-transition: opacity ease .6s; -webkit-transition: opacity ease .6s; -o-transition: opacity ease .6s; opacity: 0; -webkit-opacity: 0; -moz-opacity: 0; -khtml-opacity: 0; filter:alpha(opacity=0);'></div>").appendTo("body");var n=Fai.top.$("#ing"),o=Fai.top.$(document).scrollTop();Fai.isIE()&&0==o&&(o=Fai.top.$("html").scrollTop());var r=parseInt(1e4*Math.random()),s="";s+='<div id="'+r+'" class="tips"><div class="msg">'+a+"</div><div class='close' onclick=\"Fai.top.Fai.removeIng(false, "+r+');"></div></div>',n.find(".tips").remove(),Fai.top.$(s).appendTo(n);var l=Fai.top.$(n).width();Fai.top.$(n).css("left",(Fai.top.document.documentElement.clientWidth-l)/2),t&&Fai.top.Fai.removeIng(t,r,i),Fai.isIE6()||Fai.isIE7()||Fai.isIE8()?Fai.top.$("#ing").animate({opacity:1,filter:"alpha(opacity=100)"},300):Fai.top.$("#ing").css({opacity:1}),Fai.top.$("#ing").find(".close").bind("mouseenter",(function(){$(this).addClass("close_hover")})).bind("mouseleave",(function(){$(this).removeClass("close_hover")}))},function(e){"use strict";var t=/["\\\x00-\x1f\x7f-\x9f]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},a=Object.prototype.hasOwnProperty;e.toJSON=function(t){if(null===t)return"null";var i,n,o,r,s=e.type(t);if("undefined"!==s){if("number"===s||"boolean"===s)return String(t);if("string"===s)return e.quoteString(t);if("function"==typeof t.toJSON)return e.toJSON(t.toJSON());if("date"===s){var l=t.getUTCMonth()+1,c=t.getUTCDate(),d=t.getUTCFullYear(),p=t.getUTCHours(),u=t.getUTCMinutes(),h=t.getUTCSeconds(),f=t.getUTCMilliseconds();return l<10&&(l="0"+l),c<10&&(c="0"+c),p<10&&(p="0"+p),u<10&&(u="0"+u),h<10&&(h="0"+h),f<100&&(f="0"+f),f<10&&(f="0"+f),'"'+d+"-"+l+"-"+c+"T"+p+":"+u+":"+h+"."+f+'Z"'}if(i=[],e.isArray(t)){for(n=0;n<t.length;n++)i.push(e.toJSON(t[n])||"null");return"["+i.join(",")+"]"}if("object"===_typeof(t)){for(n in t)if(a.call(t,n)){if("number"===(s=_typeof(n)))o='"'+n+'"';else{if("string"!==s)continue;o=e.quoteString(n)}"function"!==(s=_typeof(t[n]))&&"undefined"!==s&&(r=e.toJSON(t[n]),i.push(o+":"+r))}return"{"+i.join(",")+"}"}}},e.evalJSON="object"===("undefined"==typeof JSON?"undefined":_typeof(JSON))&&JSON.parse?JSON.parse:function(e){return Fai.fkEval("("+e+")")},e.secureEvalJSON="object"===("undefined"==typeof JSON?"undefined":_typeof(JSON))&&JSON.parse?JSON.parse:function(e){var t=e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(t))return Fai.fkEval("("+e+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},e.quoteString=function(e){return e.match(t)?'"'+e.replace(t,(function(e){var t=i[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))}))+'"':'"'+e+'"'}}(jQuery),function(e,t,i,a){var n="mCustomScrollbar",o="mCS",r=".mCustomScrollbar",s={setWidth:!1,setHeight:!1,setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,autoHideScrollbar:!1,autoExpandScrollbar:!1,alwaysShowScrollbar:0,snapAmount:null,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1,disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{enable:!1,scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoExpandHorizontalScroll:!1,autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:!0,updateOnSelectorChange:!1},theme:"light",callbacks:{onScrollStart:!1,onScroll:!1,onTotalScroll:!1,onTotalScrollBack:!1,whileScrolling:!1,onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0},live:!1,liveSelector:null},l=0,c={},d=function(e){c[e]&&(clearTimeout(c[e]),f._delete.call(null,c[e]))},p=t.attachEvent&&!t.addEventListener?1:0,u=!1,h={init:function(t){t=e.extend(!0,{},s,t);var i=f._selector.call(this);if(t.live){var a=t.liveSelector||this.selector||r,n=e(a);if("off"===t.live)return void d(a);c[a]=setTimeout((function(){n.mCustomScrollbar(t),"once"===t.live&&n.length&&d(a)}),500)}else d(a);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":f._findAxis.call(null,t.axis),t.scrollInertia=t.scrollInertia<17?17:t.scrollInertia,"object"!==_typeof(t.mouseWheel)&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=f._findScrollButtonsType.call(null,t.scrollButtons.scrollType),f._theme.call(null,t),e(i).each((function(){var i=e(this);if(!i.data(o)){i.data(o,{idx:++l,opt:t,scrollRatio:{y:null,x:null},overflowed:null,bindEvents:!1,tweenRunning:!1,sequential:{},langDir:i.css("direction"),cbOffsets:null,trigger:null});var a=i.data(o).opt,n=i.data("mcs-axis"),r=i.data("mcs-scrollbar-position"),s=i.data("mcs-theme");n&&(a.axis=n),r&&(a.scrollbarPosition=r),s&&(a.theme=s,f._theme.call(null,a)),f._pluginMarkup.call(this),h.update.call(null,i)}}))},update:function(t){var i=t||f._selector.call(this);return e(i).each((function(){var t=e(this);if(t.data(o)){var i=t.data(o),a=i.opt,n=e("#mCSB_"+i.idx+"_container"),r=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")];if(!n.length)return;i.tweenRunning&&f._stop.call(null,t),t.hasClass("mCS_disabled")&&t.removeClass("mCS_disabled"),t.hasClass("mCS_destroyed")&&t.removeClass("mCS_destroyed"),f._maxHeight.call(this),f._expandContentHorizontally.call(this),"y"===a.axis||a.advanced.autoExpandHorizontalScroll||n.css("width",f._contentWidth(n.children())),i.overflowed=f._overflowed.call(this),f._scrollbarVisibility.call(this),a.autoDraggerLength&&f._setDraggerLength.call(this),f._scrollRatio.call(this),f._bindEvents.call(this);var s=[Math.abs(n[0].offsetTop),Math.abs(n[0].offsetLeft)];"x"!==a.axis&&(i.overflowed[0]?r[0].height()>r[0].parent().height()?f._resetContentPosition.call(this):f._scrollTo.call(this,t,s[0].toString(),{dir:"y",dur:0,overwrite:"none"}):(f._resetContentPosition.call(this),"y"===a.axis?f._unbindEvents.call(this):"yx"===a.axis&&i.overflowed[1]&&f._scrollTo.call(this,t,s[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==a.axis&&(i.overflowed[1]?r[1].width()>r[1].parent().width()?f._resetContentPosition.call(this):f._scrollTo.call(this,t,s[1].toString(),{dir:"x",dur:0,overwrite:"none"}):(f._resetContentPosition.call(this),"x"===a.axis?f._unbindEvents.call(this):"yx"===a.axis&&i.overflowed[0]&&f._scrollTo.call(this,t,s[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),f._autoUpdate.call(this)}}))},scrollTo:function(t,i){if(void 0!==t&&null!=t){var a=f._selector.call(this);return e(a).each((function(){var a=e(this);if(a.data(o)){var n=a.data(o),r=n.opt,s={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=e.extend(!0,{},s,i),c=f._arr.call(this,t),d=l.scrollInertia<17?17:l.scrollInertia;c[0]=f._to.call(this,c[0],"y"),c[1]=f._to.call(this,c[1],"x"),l.moveDragger&&(c[0]*=n.scrollRatio.y,c[1]*=n.scrollRatio.x),l.dur=d,setTimeout((function(){null!==c[0]&&void 0!==c[0]&&"x"!==r.axis&&n.overflowed[0]&&(l.dir="y",l.overwrite="all",f._scrollTo.call(this,a,c[0].toString(),l)),null!==c[1]&&void 0!==c[1]&&"y"!==r.axis&&n.overflowed[1]&&(l.dir="x",l.overwrite="none",f._scrollTo.call(this,a,c[1].toString(),l))}),60)}}))}},stop:function(){var t=f._selector.call(this);return e(t).each((function(){var t=e(this);t.data(o)&&f._stop.call(null,t)}))},disable:function(t){var i=f._selector.call(this);return e(i).each((function(){var i=e(this);if(i.data(o)){i.data(o).opt;f._autoUpdate.call(this,"remove"),f._unbindEvents.call(this),t&&f._resetContentPosition.call(this),f._scrollbarVisibility.call(this,!0),i.addClass("mCS_disabled")}}))},destroy:function(){var t=f._selector.call(this);return e(t).each((function(){var i=e(this);if(i.data(o)){var a=i.data(o),n=a.opt,r=e("#mCSB_"+a.idx),s=e("#mCSB_"+a.idx+"_container"),l=e(".mCSB_"+a.idx+"_scrollbar");n.live&&d(t),f._autoUpdate.call(this,"remove"),f._unbindEvents.call(this),f._resetContentPosition.call(this),i.removeData(o),f._delete.call(null,this.mcs),l.remove(),r.replaceWith(s.contents()),i.removeClass("mCustomScrollbar _mCS_"+a.idx+" mCS-autoHide mCS-dir-rtl mCS_no_scrollbar mCS_disabled").addClass("mCS_destroyed")}}))}},f={_selector:function(){return"object"!==_typeof(e(this))||e(this).length<1?r:this},_theme:function(t){t.autoDraggerLength=!(e.inArray(t.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"])>-1)&&t.autoDraggerLength,t.autoExpandScrollbar=!(e.inArray(t.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"])>-1)&&t.autoExpandScrollbar,t.scrollButtons.enable=!(e.inArray(t.theme,["minimal","minimal-dark"])>-1)&&t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,["minimal","minimal-dark"])>-1||t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,["minimal","minimal-dark"])>-1?"outside":t.scrollbarPosition},_findAxis:function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},_findScrollButtonsType:function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},_pluginMarkup:function(){var t=e(this),i=t.data(o),a=i.opt,n=a.autoExpandScrollbar?" mCSB_scrollTools_onDrag_expand":"",r=["<div id='mCSB_"+i.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+a.theme+" mCSB_scrollTools_vertical"+n+"'><div class='mCSB_draggerContainer'><div id='mCSB_"+i.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+i.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+i.idx+"_scrollbar mCS-"+a.theme+" mCSB_scrollTools_horizontal"+n+"'><div class='mCSB_draggerContainer'><div id='mCSB_"+i.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s="yx"===a.axis?"mCSB_vertical_horizontal":"x"===a.axis?"mCSB_horizontal":"mCSB_vertical",l="yx"===a.axis?r[0]+r[1]:"x"===a.axis?r[1]:r[0],c="yx"===a.axis?"<div id='mCSB_"+i.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",d=a.autoHideScrollbar?" mCS-autoHide":"",p="x"!==a.axis&&"rtl"===i.langDir?" mCS-dir-rtl":"";a.setWidth&&t.css("width",a.setWidth),a.setHeight&&t.css("height",a.setHeight),a.setLeft="y"!==a.axis&&"rtl"===i.langDir?"989999px":a.setLeft,t.addClass("mCustomScrollbar _mCS_"+i.idx+d+p).wrapInner("<div id='mCSB_"+i.idx+"' class='mCustomScrollBox mCS-"+a.theme+" "+s+"'><div id='mCSB_"+i.idx+"_container' class='mCSB_container' style='position:relative; top:"+a.setTop+"; left:"+a.setLeft+";' dir="+i.langDir+" /></div>");var u=e("#mCSB_"+i.idx),h=e("#mCSB_"+i.idx+"_container");"y"===a.axis||a.advanced.autoExpandHorizontalScroll||h.css("width",f._contentWidth(h.children())),"outside"===a.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),u.addClass("mCSB_outside").after(l)):(u.addClass("mCSB_inside").append(l),h.wrap(c)),f._scrollButtons.call(this);var g=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},_contentWidth:function(t){return Math.max.apply(Math,t.map((function(){return e(this).outerWidth(!0)})).get())},_expandContentHorizontally:function(){var t=e(this).data(o),i=t.opt,a=e("#mCSB_"+t.idx+"_container");i.advanced.autoExpandHorizontalScroll&&"y"!==i.axis&&a.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(a[0].getBoundingClientRect().right+.4)-Math.floor(a[0].getBoundingClientRect().left),position:"relative"}).unwrap()},_scrollButtons:function(){var t=e(this).data(o),i=t.opt,a=e(".mCSB_"+t.idx+"_scrollbar:first"),n=["<a href='#' class='mCSB_buttonUp' oncontextmenu='return false;' />","<a href='#' class='mCSB_buttonDown' oncontextmenu='return false;' />","<a href='#' class='mCSB_buttonLeft' oncontextmenu='return false;' />","<a href='#' class='mCSB_buttonRight' oncontextmenu='return false;' />"],r=["x"===i.axis?n[2]:n[0],"x"===i.axis?n[3]:n[1],n[2],n[3]];i.scrollButtons.enable&&a.prepend(r[0]).append(r[1]).next(".mCSB_scrollTools").prepend(r[2]).append(r[3])},_maxHeight:function(){var t=e(this),i=t.data(o),a=(i.opt,e("#mCSB_"+i.idx)),n=t.css("max-height"),r=-1!==n.indexOf("%"),s=t.css("box-sizing");if("none"!==n){var l=r?t.parent().height()*parseInt(n)/100:parseInt(n);"border-box"===s&&(l-=t.innerHeight()-t.height()+(t.outerHeight()-t.innerHeight())),a.css("max-height",Math.round(l))}},_setDraggerLength:function(){var t=e(this).data(o),i=e("#mCSB_"+t.idx),a=e("#mCSB_"+t.idx+"_container"),n=[e("#mCSB_"+t.idx+"_dragger_vertical"),e("#mCSB_"+t.idx+"_dragger_horizontal")],r=[i.height()/a.outerHeight(!1),i.width()/a.outerWidth(!1)],s=[parseInt(n[0].css("min-height")),Math.round(r[0]*n[0].parent().height()),parseInt(n[1].css("min-width")),Math.round(r[1]*n[1].parent().width())],l=p&&s[1]<s[0]?s[0]:s[1],c=p&&s[3]<s[2]?s[2]:s[3];n[0].css({height:l,"max-height":n[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":s[0]+"px"}),n[1].css({width:c,"max-width":n[1].parent().width()-10})},_scrollRatio:function(){var t=e(this).data(o),i=e("#mCSB_"+t.idx),a=e("#mCSB_"+t.idx+"_container"),n=[e("#mCSB_"+t.idx+"_dragger_vertical"),e("#mCSB_"+t.idx+"_dragger_horizontal")],r=[a.outerHeight(!1)-i.height(),a.outerWidth(!1)-i.width()],s=[r[0]/(n[0].parent().height()-n[0].height()),r[1]/(n[1].parent().width()-n[1].width())];t.scrollRatio={y:s[0],x:s[1]}},_onDragClasses:function(e,t,i){var a=i?"mCSB_dragger_onDrag_expanded":"",n=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag"],o=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(n[0]+" "+a),o.toggleClass(n[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(n[0]),o.removeClass(n[1])):(e.addClass(n[0]),o.addClass(n[1])))},_overflowed:function(){var t=e(this).data(o),i=e("#mCSB_"+t.idx),a=e("#mCSB_"+t.idx+"_container"),n=null==t.overflowed?a.height():a.outerHeight(!1),r=null==t.overflowed?a.width():a.outerWidth(!1);return[n>i.height(),r>i.width()]},_resetContentPosition:function(){var t=e(this),i=t.data(o),a=i.opt,n=e("#mCSB_"+i.idx),r=e("#mCSB_"+i.idx+"_container"),s=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")];if(f._stop(t),("x"!==a.axis&&!i.overflowed[0]||"y"===a.axis&&i.overflowed[0])&&s[0].add(r).css("top",0),"y"!==a.axis&&!i.overflowed[1]||"x"===a.axis&&i.overflowed[1]){var l=0,c=0;"rtl"===i.langDir&&(l=n.width()-r.outerWidth(!1),c=Math.abs(l/i.scrollRatio.x)),r.css("left",l),s[1].css("left",c)}},_bindEvents:function(){var t=e(this),i=t.data(o),a=i.opt;if(!i.bindEvents){if(f._draggable.call(this),a.contentTouchScroll&&f._contentDraggable.call(this),a.mouseWheel.enable){var n;!function i(){n=setTimeout((function(){e.event.special.mousewheel?(clearTimeout(n),f._mousewheel.call(t[0])):i()}),1e3)}()}f._draggerRail.call(this),f._wrapperScroll.call(this),a.advanced.autoScrollOnFocus&&f._focus.call(this),a.scrollButtons.enable&&f._buttons.call(this),a.keyboard.enable&&f._keyboard.call(this),i.bindEvents=!0}},_unbindEvents:function(){var t=e(this),a=t.data(o),n="mCS_"+a.idx,r=".mCSB_"+a.idx+"_scrollbar",s=e("#mCSB_"+a.idx+",#mCSB_"+a.idx+"_container,#mCSB_"+a.idx+"_container_wrapper,"+r+" .mCSB_draggerContainer,#mCSB_"+a.idx+"_dragger_vertical,#mCSB_"+a.idx+"_dragger_horizontal,"+r+">a"),l=e("#mCSB_"+a.idx+"_container");a.bindEvents&&(e(i).unbind("."+n),s.each((function(){e(this).unbind("."+n)})),clearTimeout(t[0]._focusTimeout),f._delete.call(null,t[0]._focusTimeout),clearTimeout(a.sequential.step),f._delete.call(null,a.sequential.step),clearTimeout(l[0].onCompleteTimeout),f._delete.call(null,l[0].onCompleteTimeout),a.bindEvents=!1)},_scrollbarVisibility:function(t){var i=e(this),a=i.data(o),n=a.opt,r=e("#mCSB_"+a.idx+"_container_wrapper"),s=r.length?r:e("#mCSB_"+a.idx+"_container"),l=[e("#mCSB_"+a.idx+"_scrollbar_vertical"),e("#mCSB_"+a.idx+"_scrollbar_horizontal")],c=[l[0].find(".mCSB_dragger"),l[1].find(".mCSB_dragger")];"x"!==n.axis&&(a.overflowed[0]&&!t?(l[0].add(c[0]).add(l[0].children("a")).css("display","block"),s.removeClass("mCS_no_scrollbar_y mCS_y_hidden")):(n.alwaysShowScrollbar?(2!==n.alwaysShowScrollbar&&c[0].add(l[0].children("a")).css("display","none"),s.removeClass("mCS_y_hidden")):(l[0].css("display","none"),s.addClass("mCS_y_hidden")),s.addClass("mCS_no_scrollbar_y"))),"y"!==n.axis&&(a.overflowed[1]&&!t?(l[1].add(c[1]).add(l[1].children("a")).css("display","block"),s.removeClass("mCS_no_scrollbar_x mCS_x_hidden")):(n.alwaysShowScrollbar?(2!==n.alwaysShowScrollbar&&c[1].add(l[1].children("a")).css("display","none"),s.removeClass("mCS_x_hidden")):(l[1].css("display","none"),s.addClass("mCS_x_hidden")),s.addClass("mCS_no_scrollbar_x"))),a.overflowed[0]||a.overflowed[1]?i.removeClass("mCS_no_scrollbar"):i.addClass("mCS_no_scrollbar")},_coordinates:function(e){switch(e.type){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return[e.originalEvent.pageY,e.originalEvent.pageX];case"touchstart":case"touchmove":case"touchend":var t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];return[t.pageY,t.pageX];default:return[e.pageY,e.pageX]}},_draggable:function(){var a,n,r,s=e(this),l=s.data(o),c=l.opt,d="mCS_"+l.idx,h=["mCSB_"+l.idx+"_dragger_vertical","mCSB_"+l.idx+"_dragger_horizontal"],g=e("#mCSB_"+l.idx+"_container"),m=e("#"+h[0]+",#"+h[1]);function v(e){var t=g.find("iframe");if(t.length){var i=e?"auto":"none";t.css("pointer-events",i)}}function b(e,t,i,n){if(g[0].idleTimer=c.scrollInertia<233?250:0,a.attr("id")===h[1])var o="x",r=(a[0].offsetLeft-t+n)*l.scrollRatio.x;else o="y",r=(a[0].offsetTop-e+i)*l.scrollRatio.y;f._scrollTo(s,r.toString(),{dir:o,drag:!0})}m.bind("mousedown."+d+" touchstart."+d+" pointerdown."+d+" MSPointerDown."+d,(function(t){if(t.stopImmediatePropagation(),t.preventDefault(),f._mouseBtnLeft(t)){u=!0,p&&(i.onselectstart=function(){return!1}),v(!1),f._stop(s);var o=(a=e(this)).offset(),l=f._coordinates(t)[0]-o.top,d=f._coordinates(t)[1]-o.left,h=a.height()+o.top,g=a.width()+o.left;l<h&&l>0&&d<g&&d>0&&(n=l,r=d),f._onDragClasses(a,"active",c.autoExpandScrollbar)}})).bind("touchmove."+d,(function(e){e.stopImmediatePropagation(),e.preventDefault();var t=a.offset(),i=f._coordinates(e)[0]-t.top,o=f._coordinates(e)[1]-t.left;b(n,r,i,o)})),e(i).bind("mousemove."+d+" pointermove."+d+" MSPointerMove."+d,(function(e){if(a){t.notAllowClick=!0;var i=a.offset(),o=f._coordinates(e)[0]-i.top,s=f._coordinates(e)[1]-i.left;if(n===o)return;b(n,r,o,s)}})).add(m).bind("mouseup."+d+" touchend."+d+" pointerup."+d+" MSPointerUp."+d,(function(e){setTimeout((function(){t.notAllowClick=!1}),200),a&&(f._onDragClasses(a,"active",c.autoExpandScrollbar),a=null),u=!1,p&&(i.onselectstart=null),v(!0)}))},_contentDraggable:function(){var t,i,a,n,r,s,l,c,d,p,h,g=e(this),m=g.data(o),v=m.opt,b="mCS_"+m.idx,y=e("#mCSB_"+m.idx),x=e("#mCSB_"+m.idx+"_container"),_=[e("#mCSB_"+m.idx+"_dragger_vertical"),e("#mCSB_"+m.idx+"_dragger_horizontal")],w=[],C=[],S="yx"===v.axis?"none":"all";function F(e,t){var i=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?i[0]:i[3]:e>60?t>3?i[3]:i[2]:e>30?t>8?i[1]:t>6?i[0]:t>4?t:i[2]:t>8?t:i[3]}function k(e,t,i,a,n,o){e&&f._scrollTo(g,e.toString(),{dur:t,scrollEasing:i,dir:a,overwrite:n,drag:o})}x.bind("touchstart."+b+" pointerdown."+b+" MSPointerDown."+b,(function(e){if(f._pointerTouch(e)&&!u){var a=x.offset();t=f._coordinates(e)[0]-a.top,i=f._coordinates(e)[1]-a.left}})).bind("touchmove."+b+" pointermove."+b+" MSPointerMove."+b,(function(e){if(f._pointerTouch(e)&&!u){e.stopImmediatePropagation(),s=f._getTime();var a=y.offset(),n=f._coordinates(e)[0]-a.top,o=f._coordinates(e)[1]-a.left,r="mcsLinearOut";if(w.push(n),C.push(o),m.overflowed[0])var l=_[0].parent().height()-_[0].height(),c=t-n>0&&n-t>-l*m.scrollRatio.y;if(m.overflowed[1])var d=_[1].parent().width()-_[1].width(),h=i-o>0&&o-i>-d*m.scrollRatio.x;(c||h)&&e.preventDefault(),p="yx"===v.axis?[t-n,i-o]:"x"===v.axis?[null,i-o]:[t-n,null],x[0].idleTimer=250,m.overflowed[0]&&k(p[0],0,r,"y","all",!0),m.overflowed[1]&&k(p[1],0,r,"x",S,!0)}})),y.bind("touchstart."+b+" pointerdown."+b+" MSPointerDown."+b,(function(e){if(f._pointerTouch(e)&&!u){e.stopImmediatePropagation(),f._stop(g),r=f._getTime();var t=y.offset();a=f._coordinates(e)[0]-t.top,n=f._coordinates(e)[1]-t.left,w=[],C=[]}})).bind("touchend."+b+" pointerup."+b+" MSPointerUp."+b,(function(e){if(f._pointerTouch(e)&&!u){e.stopImmediatePropagation(),l=f._getTime();var t=y.offset(),i=f._coordinates(e)[0]-t.top,o=f._coordinates(e)[1]-t.left;if(!(l-s>30)){var g="mcsEaseOut",b=(d=1e3/(l-r))<2.5,_=b?[w[w.length-2],C[C.length-2]]:[0,0];c=b?[i-_[0],o-_[1]]:[i-a,o-n];var B=[Math.abs(c[0]),Math.abs(c[1])];d=b?[Math.abs(c[0]/4),Math.abs(c[1]/4)]:[d,d];var I=[Math.abs(x[0].offsetTop)-c[0]*F(B[0]/d[0],d[0]),Math.abs(x[0].offsetLeft)-c[1]*F(B[1]/d[1],d[1])];p="yx"===v.axis?[I[0],I[1]]:"x"===v.axis?[null,I[1]]:[I[0],null],h=[4*B[0]+v.scrollInertia,4*B[1]+v.scrollInertia];var T=parseInt(v.contentTouchScroll)||0;p[0]=B[0]>T?p[0]:0,p[1]=B[1]>T?p[1]:0,m.overflowed[0]&&k(p[0],h[0],g,"y",S,!1),m.overflowed[1]&&k(p[1],h[1],g,"x",S,!1)}}}))},_mousewheel:function(){var t=e(this),i=t.data(o)||{},a=i.opt,n="mCS_"+i.idx,r=e("#mCSB_"+i.idx),s=[e("#mCSB_"+i.idx+"_dragger_vertical"),e("#mCSB_"+i.idx+"_dragger_horizontal")];r.bind("mousewheel."+n,(function(n,o){if(f._stop(t),!f._disableMousewheel(t,n.target)){var l="auto"!==a.mouseWheel.deltaFactor?parseInt(a.mouseWheel.deltaFactor):p&&n.deltaFactor<100?100:n.deltaFactor<40?40:n.deltaFactor||100;if("x"===a.axis||"x"===a.mouseWheel.axis)var c="x",d=[Math.round(l*i.scrollRatio.x),parseInt(a.mouseWheel.scrollAmount)],u="auto"!==a.mouseWheel.scrollAmount?d[1]:d[0]>=r.width()?.9*r.width():d[0],h=Math.abs(e("#mCSB_"+i.idx+"_container")[0].offsetLeft),g=s[1][0].offsetLeft,m=s[1].parent().width()-s[1].width(),v=n.deltaX||n.deltaY||o;else c="y",d=[Math.round(l*i.scrollRatio.y),parseInt(a.mouseWheel.scrollAmount)],u="auto"!==a.mouseWheel.scrollAmount?d[1]:d[0]>=r.height()?.9*r.height():d[0],h=Math.abs(e("#mCSB_"+i.idx+"_container")[0].offsetTop),g=s[0][0].offsetTop,m=s[0].parent().height()-s[0].height(),v=n.deltaY||o;"y"===c&&!i.overflowed[0]||"x"===c&&!i.overflowed[1]||(a.mouseWheel.invert&&(v=-v),a.mouseWheel.normalizeDelta&&(v=v<0?-1:1),(v>0&&0!==g||v<0&&g!==m||a.mouseWheel.preventDefault)&&(n.stopImmediatePropagation(),n.preventDefault()),f._scrollTo(t,(h-v*u).toString(),{dir:c}))}}))},_disableMousewheel:function(t,i){var a=i.nodeName.toLowerCase(),n=t.data(o).opt.mouseWheel.disableOver;return e.inArray(a,n)>-1&&!(e.inArray(a,["select","textarea"])>-1&&!e(i).is(":focus"))},_draggerRail:function(){var t=e(this),i=t.data(o),a="mCS_"+i.idx,n=e("#mCSB_"+i.idx+"_container"),r=n.parent();e(".mCSB_"+i.idx+"_scrollbar .mCSB_draggerContainer").bind("touchstart."+a+" pointerdown."+a+" MSPointerDown."+a,(function(e){u=!0})).bind("touchend."+a+" pointerup."+a+" MSPointerUp."+a,(function(e){u=!1})).bind("click."+a,(function(a){if(e(a.target).hasClass("mCSB_draggerContainer")||e(a.target).hasClass("mCSB_draggerRail")){f._stop(t);var o=e(this),s=o.find(".mCSB_dragger");if(o.parent(".mCSB_scrollTools_horizontal").length>0){if(!i.overflowed[1])return;var l="x",c=a.pageX>s.offset().left?-1:1,d=Math.abs(n[0].offsetLeft)-c*(.9*r.width())}else{if(!i.overflowed[0])return;l="y",c=a.pageY>s.offset().top?-1:1,d=Math.abs(n[0].offsetTop)-c*(.9*r.height())}f._scrollTo(t,d.toString(),{dir:l,scrollEasing:"mcsEaseInOut"})}}))},_focus:function(){var t=e(this),a=t.data(o),n=a.opt,r="mCS_"+a.idx,s=e("#mCSB_"+a.idx+"_container"),l=s.parent();s.bind("focusin."+r,(function(a){var o=e(i.activeElement),r=s.find(".mCustomScrollBox").length;o.is(n.advanced.autoScrollOnFocus)&&(f._stop(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=r?17*r:0,t[0]._focusTimeout=setTimeout((function(){var e=[o.offset().top-s.offset().top,o.offset().left-s.offset().left],i=[s[0].offsetTop,s[0].offsetLeft],a=[i[0]+e[0]>=0&&i[0]+e[0]<l.height()-o.outerHeight(!1),i[1]+e[1]>=0&&i[0]+e[1]<l.width()-o.outerWidth(!1)],r="yx"!==n.axis||a[0]||a[1]?"all":"none";"x"===n.axis||a[0]||f._scrollTo(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:r,dur:0}),"y"===n.axis||a[1]||f._scrollTo(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:r,dur:0})}),t[0]._focusTimer))}))},_wrapperScroll:function(){var t=e(this).data(o),i="mCS_"+t.idx,a=e("#mCSB_"+t.idx+"_container").parent();a.bind("scroll."+i,(function(e){a.scrollTop(0).scrollLeft(0)}))},_buttons:function(){var t=e(this),i=t.data(o),a=i.opt,n=i.sequential,r="mCS_"+i.idx,s=(e("#mCSB_"+i.idx+"_container"),".mCSB_"+i.idx+"_scrollbar");e(s+">a").bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,(function(o){if(o.preventDefault(),f._mouseBtnLeft(o)){var r=e(this).attr("class");switch(n.type=a.scrollButtons.scrollType,o.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===n.type)return;u=!0,i.tweenRunning=!1,s("on",r);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===n.type)return;u=!1,n.dir&&s("off",r);break;case"click":if("stepped"!==n.type||i.tweenRunning)return;s("on",r)}}function s(e,i){n.scrollAmount=a.snapAmount||a.scrollButtons.scrollAmount,f._sequentialScroll.call(this,t,e,i)}}))},_keyboard:function(){var t=e(this),a=t.data(o),n=a.opt,r=a.sequential,s="mCS_"+a.idx,l=e("#mCSB_"+a.idx),c=e("#mCSB_"+a.idx+"_container"),d=c.parent(),p="input,textarea,select,datalist,keygen,[contenteditable='true']";l.attr("tabindex","0").bind("blur."+s+" keydown."+s+" keyup."+s,(function(o){switch(o.type){case"blur":a.tweenRunning&&r.dir&&m("off",null);break;case"keydown":case"keyup":var s=o.keyCode?o.keyCode:o.which,l="on";if("x"!==n.axis&&(38===s||40===s)||"y"!==n.axis&&(37===s||39===s)){if((38===s||40===s)&&!a.overflowed[0]||(37===s||39===s)&&!a.overflowed[1])return;"keyup"===o.type&&(l="off"),e(i.activeElement).is(p)||(o.preventDefault(),o.stopImmediatePropagation(),m(l,s))}else if(33===s||34===s){if((a.overflowed[0]||a.overflowed[1])&&(o.preventDefault(),o.stopImmediatePropagation()),"keyup"===o.type){f._stop(t);var u=34===s?-1:1;if("x"===n.axis||"yx"===n.axis&&a.overflowed[1]&&!a.overflowed[0])var h="x",g=Math.abs(c[0].offsetLeft)-u*(.9*d.width());else h="y",g=Math.abs(c[0].offsetTop)-u*(.9*d.height());f._scrollTo(t,g.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}else if((35===s||36===s)&&!e(i.activeElement).is(p)&&((a.overflowed[0]||a.overflowed[1])&&(o.preventDefault(),o.stopImmediatePropagation()),"keyup"===o.type)){if("x"===n.axis||"yx"===n.axis&&a.overflowed[1]&&!a.overflowed[0])h="x",g=35===s?Math.abs(d.width()-c.outerWidth(!1)):0;else h="y",g=35===s?Math.abs(d.height()-c.outerHeight(!1)):0;f._scrollTo(t,g.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}function m(e,i){r.type=n.keyboard.scrollType,r.scrollAmount=n.snapAmount||n.keyboard.scrollAmount,"stepped"===r.type&&a.tweenRunning||f._sequentialScroll.call(this,t,e,i)}}))},_sequentialScroll:function(t,i,a){var n=t.data(o),r=n.opt,s=n.sequential,l=e("#mCSB_"+n.idx+"_container"),c="stepped"===s.type;switch(i){case"on":if(s.dir=["mCSB_buttonRight"===a||"mCSB_buttonLeft"===a||39===a||37===a?"x":"y","mCSB_buttonUp"===a||"mCSB_buttonLeft"===a||38===a||37===a?-1:1],f._stop(t),f._isNumeric(a)&&"stepped"===s.type)return;d(c);break;case"off":clearTimeout(s.step),f._stop(t),(c||n.tweenRunning&&s.dir)&&d(!0)}function d(e){var i="stepped"!==s.type,a=e?i?r.scrollInertia/1.5:r.scrollInertia:1e3/60,o=e?i?7.5:40:2.5,c=[Math.abs(l[0].offsetTop),Math.abs(l[0].offsetLeft)],p=[n.scrollRatio.y>10?10:n.scrollRatio.y,n.scrollRatio.x>10?10:n.scrollRatio.x],u="x"===s.dir[0]?c[1]+s.dir[1]*(p[1]*o):c[0]+s.dir[1]*(p[0]*o),h="x"===s.dir[0]?c[1]+s.dir[1]*parseInt(s.scrollAmount):c[0]+s.dir[1]*parseInt(s.scrollAmount),g="auto"!==s.scrollAmount?h:u,m=e?i?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",v=!!e;e&&a<17&&(g="x"===s.dir[0]?c[1]:c[0]),f._scrollTo(t,g.toString(),{dir:s.dir[0],scrollEasing:m,dur:a,onComplete:v}),e?s.dir=!1:(clearTimeout(s.step),s.step=setTimeout((function(){d()}),a))}},_arr:function(t){var i=e(this).data(o).opt,a=[];return"function"==typeof t&&(t=t()),t instanceof Array?a=t.length>1?[t[0],t[1]]:"x"===i.axis?[null,t[0]]:[t[0],null]:(a[0]=t.y?t.y:t.x||"x"===i.axis?null:t,a[1]=t.x?t.x:t.y||"y"===i.axis?null:t),"function"==typeof a[0]&&(a[0]=a[0]()),"function"==typeof a[1]&&(a[1]=a[1]()),a},_to:function(t,i){if(null!=t&&void 0!==t){var a=e(this),n=a.data(o),r=n.opt,s=e("#mCSB_"+n.idx+"_container"),l=s.parent(),c=_typeof(t);i||(i="x"===r.axis?"x":"y");var d="x"===i?s.outerWidth(!1):s.outerHeight(!1),p="x"===i?s.offset().left:s.offset().top,u="x"===i?s[0].offsetLeft:s[0].offsetTop,g="x"===i?"left":"top";switch(c){case"function":return t();case"object":if(t.nodeType)var m="x"===i?e(t).offset().left:e(t).offset().top;else if(t.jquery){if(!t.length)return;m="x"===i?t.offset().left:t.offset().top}return m-p;case"string":case"number":if(f._isNumeric.call(null,t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(u-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var v=u+parseInt(t.split("+=")[1]);return v>=0?0:Math.abs(v)}if(-1!==t.indexOf("px")&&f._isNumeric.call(null,t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(l.height()-s.outerHeight(!1));if("right"===t)return Math.abs(l.width()-s.outerWidth(!1));if("first"===t||"last"===t){var b=s.find(":"+t);return(m="x"===i?e(b).offset().left:e(b).offset().top)-p}return e(t).length?(m="x"===i?e(t).offset().left:e(t).offset().top)-p:(s.css(g,t),void h.update.call(null,a[0]))}}},_autoUpdate:function(t){var i=e(this),a=i.data(o),n=a.opt,r=e("#mCSB_"+a.idx+"_container");if(t)return clearTimeout(r[0].autoUpdate),void f._delete.call(null,r[0].autoUpdate);var s,l,c,d=r.parent(),p=[e("#mCSB_"+a.idx+"_scrollbar_vertical"),e("#mCSB_"+a.idx+"_scrollbar_horizontal")],u=function(){return[p[0].is(":visible")?p[0].outerHeight(!0):0,p[1].is(":visible")?p[1].outerWidth(!0):0]},g=y(),m=[r.outerHeight(!1),r.outerWidth(!1),d.height(),d.width(),u()[0],u()[1]],v=b();function b(){var e=0;return n.advanced.updateOnImageLoad&&(e=r.find("img").length),e}function y(){!0===n.advanced.updateOnSelectorChange&&(n.advanced.updateOnSelectorChange="*");var t=0,i=r.find(n.advanced.updateOnSelectorChange);return n.advanced.updateOnSelectorChange&&i.length>0&&i.each((function(){t+=e(this).height()+e(this).width()})),t}function x(){clearTimeout(r[0].autoUpdate),h.update.call(null,i[0])}!function e(){clearTimeout(r[0].autoUpdate),r[0].autoUpdate=setTimeout((function(){if(n.advanced.updateOnSelectorChange&&(s=y())!==g)return x(),void(g=s);n.advanced.updateOnContentResize&&((l=[r.outerHeight(!1),r.outerWidth(!1),d.height(),d.width(),u()[0],u()[1]])[0]===m[0]&&l[1]===m[1]&&l[2]===m[2]&&l[3]===m[3]&&l[4]===m[4]&&l[5]===m[5]||(x(),m=l)),n.advanced.updateOnImageLoad&&(c=b())!==v&&(r.find("img").each((function(){!function(e){var t=new Image;function i(e,t){return function(){return t.apply(e,arguments)}}function a(){this.onload=null,x()}t.onload=i(t,a),t.src=e}(this.src)})),v=c),(n.advanced.updateOnSelectorChange||n.advanced.updateOnContentResize||n.advanced.updateOnImageLoad)&&e()}),60)}()},_snapAmount:function(e,t,i){return Math.round(e/t)*t-i},_stop:function(t){var i=t.data(o);e("#mCSB_"+i.idx+"_container,#mCSB_"+i.idx+"_container_wrapper,#mCSB_"+i.idx+"_dragger_vertical,#mCSB_"+i.idx+"_dragger_horizontal").each((function(){f._stopTween.call(this)}))},_scrollTo:function(t,i,a){var n=t.data(o),r=n.opt,s={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:r.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},l=[(a=e.extend(s,a)).dur,a.drag?0:a.dur],c=e("#mCSB_"+n.idx),d=e("#mCSB_"+n.idx+"_container"),p=r.callbacks.onTotalScrollOffset?f._arr.call(t,r.callbacks.onTotalScrollOffset):[0,0],u=r.callbacks.onTotalScrollBackOffset?f._arr.call(t,r.callbacks.onTotalScrollBackOffset):[0,0];switch(n.trigger=a.trigger,r.snapAmount&&(i=f._snapAmount(i,r.snapAmount,r.snapOffset)),a.dir){case"x":var h=e("#mCSB_"+n.idx+"_dragger_horizontal"),g="left",m=d[0].offsetLeft,v=[c.width()-d.outerWidth(!1),h.parent().width()-h.width()],b=[i,i/n.scrollRatio.x],y=p[1],x=u[1],_=y>0?y/n.scrollRatio.x:0,w=x>0?x/n.scrollRatio.x:0;break;case"y":h=e("#mCSB_"+n.idx+"_dragger_vertical"),g="top",m=d[0].offsetTop,v=[c.height()-d.outerHeight(!1),h.parent().height()-h.height()],b=[i,i/n.scrollRatio.y],y=p[0],x=u[0],_=y>0?y/n.scrollRatio.y:0,w=x>0?x/n.scrollRatio.y:0}function C(e){return n&&r.callbacks[e]&&"function"==typeof r.callbacks[e]}function S(){var e=[d[0].offsetTop,d[0].offsetLeft],i=[h[0].offsetTop,h[0].offsetLeft],n=[d.outerHeight(!1),d.outerWidth(!1)],o=[c.height(),c.width()];t[0].mcs={content:d,top:e[0],left:e[1],draggerTop:i[0],draggerLeft:i[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(n[0])-o[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(n[1])-o[1])),direction:a.dir}}b[1]<0?b=[0,0]:b[1]>=v[1]?b=[v[0],v[1]]:b[0]=-b[0],clearTimeout(d[0].onCompleteTimeout),!n.tweenRunning&&(0===m&&b[0]>=0||m===v[0]&&b[0]<=v[0])||(f._tweenTo.call(null,h[0],g,Math.round(b[1]),l[1],a.scrollEasing),f._tweenTo.call(null,d[0],g,Math.round(b[0]),l[0],a.scrollEasing,a.overwrite,{onStart:function(){a.callbacks&&a.onStart&&!n.tweenRunning&&(C("onScrollStart")&&(S(),r.callbacks.onScrollStart.call(t[0])),n.tweenRunning=!0,f._onDragClasses(h),n.cbOffsets=[r.callbacks.alwaysTriggerOffsets||m>=v[0]+y,r.callbacks.alwaysTriggerOffsets||m<=-x])},onUpdate:function(){a.callbacks&&a.onUpdate&&C("whileScrolling")&&(S(),r.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(a.callbacks&&a.onComplete){"yx"===r.axis&&clearTimeout(d[0].onCompleteTimeout);var e=d[0].idleTimer||0;d[0].onCompleteTimeout=setTimeout((function(){C("onScroll")&&(S(),r.callbacks.onScroll.call(t[0])),C("onTotalScroll")&&b[1]>=v[1]-_&&n.cbOffsets[0]&&(S(),r.callbacks.onTotalScroll.call(t[0])),C("onTotalScrollBack")&&b[1]<=w&&n.cbOffsets[1]&&(S(),r.callbacks.onTotalScrollBack.call(t[0])),n.tweenRunning=!1,d[0].idleTimer=0,f._onDragClasses(h,"hide")}),e)}}}))},_tweenTo:function(e,i,a,n,o,r,s){var l,c=(s=s||{}).onStart||function(){},d=s.onUpdate||function(){},p=s.onComplete||function(){},u=f._getTime(),h=0,g=e.offsetTop,m=e.style;"left"===i&&(g=e.offsetLeft);var v=a-g;function b(){e._mcsstop||(h||c.call(),h=f._getTime()-u,y(),h>=e._mcstime&&(e._mcstime=h>e._mcstime?h+l-(h-e._mcstime):h+l-1,e._mcstime<h+1&&(e._mcstime=h+1)),e._mcstime<n?e._mcsid=_request(b):p.call())}function y(){n>0?(e._mcscurrVal=function(e,t,i,a,n){switch(n){case"linear":case"mcsLinear":return i*e/a+t;case"mcsLinearOut":return e/=a,e--,i*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return(e/=a/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t;case"easeInOutStrong":return(e/=a/2)<1?i/2*Math.pow(2,10*(e-1))+t:(e--,i/2*(2-Math.pow(2,-10*e))+t);case"easeInOut":case"mcsEaseInOut":return(e/=a/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t;case"easeOutSmooth":return e/=a,-i*(--e*e*e*e-1)+t;case"easeOutStrong":return i*(1-Math.pow(2,-10*e/a))+t;case"easeOut":case"mcsEaseOut":default:var o=(e/=a)*e,r=o*e;return t+i*(.499999999999997*r*o+-2.5*o*o+5.5*r+-6.5*o+4*e)}}(e._mcstime,g,v,n,o),m[i]=Math.round(e._mcscurrVal)+"px"):m[i]=a+"px",d.call()}e._mcsstop=0,"none"!==r&&function(){if(null==e._mcsid)return;t.requestAnimationFrame?t.cancelAnimationFrame(e._mcsid):clearTimeout(e._mcsid);e._mcsid=null}(),l=1e3/60,e._mcstime=h+l,_request=t.requestAnimationFrame?t.requestAnimationFrame:function(e){return y(),setTimeout(e,.01)},e._mcsid=_request(b)},_getTime:function(){return t.performance&&t.performance.now?t.performance.now():t.performance&&t.performance.webkitNow?t.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},_stopTween:function(){var e=this;null!=e._mcsid&&(t.requestAnimationFrame?t.cancelAnimationFrame(e._mcsid):clearTimeout(e._mcsid),e._mcsid=null,e._mcsstop=1)},_delete:function(e){null},_mouseBtnLeft:function(e){return!(e.which&&1!==e.which)},_pointerTouch:function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},_isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}};i.location.protocol;e.fn[n]=function(t){return h[t]?h[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==_typeof(t)&&t?void e.error("Method "+t+" does not exist"):h.init.apply(this,arguments)},e[n]=function(t){return h[t]?h[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!==_typeof(t)&&t?void e.error("Method "+t+" does not exist"):h.init.apply(this,arguments)},e[n].defaults=s,t[n]=!0,e(t).load((function(){e(r)[n]()}))}(jQuery,window,document),function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=["January","February","March","April","May","June","July","August","September","October","November","December"],n=[];n.Jan="01",n.Feb="02",n.Mar="03",n.Apr="04",n.May="05",n.Jun="06",n.Jul="07",n.Aug="08",n.Sep="09",n.Oct="10",n.Nov="11",n.Dec="12",e.format=function(){function e(e){return t[parseInt(e,10)]||e}function o(e){var t=parseInt(e,10)-1;return i[t]||e}function r(e){var t=parseInt(e,10)-1;return a[t]||e}var s=function(e){return n[e]||e},l=function(e){var t=e,i="";if(-1!==t.indexOf(".")){var a=t.split(".");t=a[0],i=a[1]}var n=t.split(":");return 3===n.length?{time:t,hour:n[0],minute:n[1],second:n[2],millis:i}:{time:"",hour:"",minute:"",second:"",millis:""}};return{date:function(t,i){try{var a=null,n=null,c=null,d=null,p=null,u=null;if("function"==typeof t.getFullYear)n=t.getFullYear(),c=t.getMonth()+1,d=t.getDate(),p=t.getDay(),u=l(t.toTimeString());else if(-1!=t.search(/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.?\d{0,3}[-+]?\d{2}:?\d{2}/)){n=(h=t.split(/[T\+-]/))[0],c=h[1],d=h[2],u=l(h[3].split(".")[0]),a=new Date(n,c-1,d),p=a.getDay()}else{var h;switch((h=t.split(" ")).length){case 6:n=h[5],c=s(h[1]),d=h[2],u=l(h[3]),a=new Date(n,c-1,d),p=a.getDay();break;case 2:var f=h[0].split("-");n=f[0],c=f[1],d=f[2],u=l(h[1]),a=new Date(n,c-1,d),p=a.getDay();break;case 7:case 9:case 10:n=h[3],c=s(h[1]),d=h[2],u=l(h[4]),a=new Date(n,c-1,d),p=a.getDay();break;default:return t}}for(var g="",m="",v=0;v<i.length;v++){var b=i.charAt(v);switch(g+=b){case"ddd":m+=e(p),g="";break;case"dd":if("d"==i.charAt(v+1))break;1===String(d).length&&(d="0"+d),m+=d,g="";break;case"MMMM":m+=r(c),g="";break;case"MMM":if("M"===i.charAt(v+1))break;m+=o(c),g="";break;case"MM":if("M"==i.charAt(v+1))break;1===String(c).length&&(c="0"+c),m+=c,g="";break;case"yyyy":m+=n,g="";break;case"yy":if("y"==i.charAt(v+1)&&"y"==i.charAt(v+2))break;m+=String(n).slice(-2),g="";break;case"HH":m+=u.hour,g="";break;case"hh":var y=0==u.hour?12:u.hour<13?u.hour:u.hour-12;m+=y=1==String(y).length?"0"+y:y,g="";break;case"h":if("h"==i.charAt(v+1))break;m+=y=0==u.hour?12:u.hour<13?u.hour:u.hour-12,g="";break;case"mm":m+=u.minute,g="";break;case"ss":m+=u.second.substring(0,2),g="";break;case"SSS":m+=u.millis.substring(0,3),g="";break;case"a":m+=u.hour>=12?"PM":"AM",g="";break;case" ":case"/":case":":m+=b,g="";break;default:2===g.length&&0!==g.indexOf("y")&&"SS"!=g?(m+=g.substring(0,1),g=g.substring(1,2)):3===g.length&&-1===g.indexOf("yyy")&&(g="")}}return m}catch(e){return t}}}}()}(jQuery),function(e,t,i,a){var n="ontouchstart"in i,o=function(){var e=i.createElement("div"),a=i.documentElement;if(!("pointerEvents"in e.style))return!1;e.style.pointerEvents="auto",e.style.pointerEvents="x",a.appendChild(e);var n=t.getComputedStyle&&"auto"===t.getComputedStyle(e,"").pointerEvents;return a.removeChild(e),!!n}(),r={listNodeName:"ol",itemNodeName:"li",rootClass:"dd",listClass:"dd-list",itemClass:"dd-item",dragClass:"dd-dragel",handleClass:"dd-handle",collapsedClass:"dd-collapsed",placeClass:"dd-placeholder",noDragClass:"dd-nodrag",emptyClass:"dd-empty",expandBtnHTML:'<button class="dd-expand" data-action="expand" type="button">Expand</button>',collapseBtnHTML:'<button class="dd-collapse" data-action="collapse" type="button">Collapse</button>',group:0,maxDepth:5,threshold:20,dragSortable:!0},s={};function l(t,a){this.w=e(i),this.el=e(t),this.options=e.extend({},r,a),this.init()}var c,d,p,u,h=(c=function(e,i,a){if(a){var n,o,r,l,c,d,p,u=30,h=e.clientX,f=e.clientY,g=t.innerWidth,m=t.innerHeight;if(!(p=(n=a).parentsUntil(".jz-table",".scrollbar-wrap")).length)return;o=p[0].getBoundingClientRect(),r=(Math.abs(o.right-h)<=u)-(Math.abs(o.left-h)<=u),l=(Math.abs(o.bottom-f)<=u)-(Math.abs(o.top-f)<=u),r||l||(l=(m-f<=u)-(f<=u),((r=(g-h<=u)-(h<=u))||l)&&(n=t)),s.vx===r&&s.vy===l&&s.el===n||(s.el=n,s.vx=r,s.vy=l,clearInterval(s.pid),n&&(s.pid=setInterval((function(){d=l?3*l:0,c=r?3*r:0,n===t?t.scrollTo(t.pageXOffset+c,t.pageYOffset+d):(p[0].scrollTop+=d,p[0].scrollLeft+=c)}),24)))}},d=30,function(){void 0===p&&(p=arguments,u=this,setTimeout((function(){1===p.length?c.call(u,p[0]):c.apply(u,p),p=void 0}),d))});l.prototype={init:function(){var i=this;i.reset(),i.el.data("nestable-group",this.options.group),i.placeEl=e('<div class="'+i.options.placeClass+'"/>'),i.el.on("click","button",(function(t){if(!i.dragEl){var a=e(t.currentTarget),n=a.data("action"),o=a.parent(i.options.itemNodeName);"collapse"===n&&i.collapseItem(o),"expand"===n&&i.expandItem(o)}}));var a=function(t){var a=e(t.target),n=a.attr("class");if(void 0!==n&&!(n.indexOf("jz-sort")>-1||n.indexOf("jz-checkbox")>-1||n.indexOf("jz-radio")>-1||n.indexOf("jz-input")>-1||n.indexOf("jz-table-event-initial")>-1||n.indexOf("jz-select")>-1||n.indexOf("tag-delete")>-1)){if(!a.hasClass(i.options.handleClass)){if(a.closest("."+i.options.noDragClass).length)return;a=a.closest("."+i.options.handleClass)}a.length&&!i.dragEl&&(i.isTouch=/^touch/.test(t.type),i.isTouch&&1!==t.touches.length||(t.preventDefault(),i.dragStart(t.touches?t.touches[0]:t)))}},o=function(e){i.dragEl&&(e.preventDefault(),i.dragMove(e.touches?e.touches[0]:e))},r=function(e){i.dragEl&&(e.preventDefault(),i.dragStop(e.touches?e.touches[0]:e))};i.options.dragSortable&&(n&&(i.el[0].addEventListener("touchstart",a,!1),t.addEventListener("touchmove",o,!1),t.addEventListener("touchend",r,!1),t.addEventListener("touchcancel",r,!1)),i.el.off("mousedown.nestable-d").on("mousedown.nestable-d",a),i.w.off("mousedown.nestable-m").on("mousemove.nestable-m",o),i.w.off("mousedown.nestable-u").on("mouseup.nestable-u",r))},serialize:function(){var t=this;return function i(a,n){var o=[];return a.children(t.options.itemNodeName+":not(.J-expand-row)").each((function(){var a=e(this),r=e.extend({},JSON.parse(a.attr("data-id"))),s=a.children(t.options.listNodeName);s.length&&(r.children=i(s,n+1)),o.push(r)})),o}(t.el.find(t.options.listNodeName).first(),0)},serialise:function(){return this.serialize()},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0},this.isTouch=!1,this.moving=!1,this.dragEl=null,this.dragRootEl=null,this.dragDepth=0,this.hasNewRoot=!1,this.pointEl=null,this._collapsed=!1,clearInterval(s.pid)},expandItem:function(e){e.removeClass(this.options.collapsedClass),e.children('[data-action="expand"]').hide(),e.children('[data-action="collapse"]').show(),e.children(this.options.listNodeName).show()},collapseItem:function(e){e.children(this.options.listNodeName).length&&(e.addClass(this.options.collapsedClass),e.children('[data-action="collapse"]').hide(),e.children('[data-action="expand"]').show(),e.children(this.options.listNodeName).hide())},expandAll:function(){var t=this;t.el.find(t.options.itemNodeName).each((function(){t.expandItem(e(this))}))},collapseAll:function(){var t=this;t.el.find(t.options.itemNodeName).each((function(){t.collapseItem(e(this))}))},setParent:function(t){!t.children(this.options.listNodeName).length||t.children(".dd-expand").length||t.children(".dd-collapse").length||(t.prepend(e(this.options.expandBtnHTML)),t.prepend(e(this.options.collapseBtnHTML))),t.children('[data-action="expand"]').hide()},unsetParent:function(e){e.removeClass(this.options.collapsedClass),e.children("[data-action]").remove(),e.children(this.options.listNodeName).remove()},dragStart:function(t){var n=this.mouse,o=e(t.target),r=o.closest(this.options.itemNodeName);r.find(".dd-collapse").is(":hidden")&&(this._collapsed=!0),this.collapseItem(r),this.placeEl.css("height",r.height()),n.offsetX=t.offsetX!==a?t.offsetX:t.pageX-o.offset().left,n.offsetY=t.offsetY!==a?t.offsetY:t.pageY-o.offset().top,n.startX=n.lastX=t.pageX,n.startY=n.lastY=t.pageY,this.dragRootEl=this.el,this.dragEl=e(i.createElement(this.options.listNodeName)).addClass(this.options.listClass+" "+this.options.dragClass),this.dragEl.css("width",r.width()),r.after(this.placeEl),r[0].parentNode.removeChild(r[0]),r.appendTo(this.dragEl),e(i.body).append(this.dragEl),this.dragEl.css({left:t.pageX-n.offsetX,top:t.pageY-n.offsetY});var s,l,c=this.dragEl.find(this.options.itemNodeName);for(s=0;s<c.length;s++)(l=e(c[s]).parents(this.options.listNodeName).length)>this.dragDepth&&(this.dragDepth=l);l>1&&this.dragEl.addClass("dd-multiShadow")},dragStop:function(e){var t=this.dragEl.children(this.options.itemNodeName).first();t[0].parentNode.removeChild(t[0]),this.placeEl.replaceWith(t),this.dragEl.remove(),this.el.trigger("drag-change"),this.hasNewRoot&&this.dragRootEl.trigger("drag-change"),this._collapsed||this.expandItem(t),this.reset(),t.removeClass("dd-multiShadow")},dragMove:function(a){var n,r,s,l=this.options,c=this.mouse;this.dragEl.css({left:a.pageX-c.offsetX,top:a.pageY-c.offsetY}),c.lastX=c.nowX,c.lastY=c.nowY,c.nowX=a.pageX,c.nowY=a.pageY,c.distX=c.nowX-c.lastX,c.distY=c.nowY-c.lastY,c.lastDirX=c.dirX,c.lastDirY=c.dirY,c.dirX=0===c.distX?0:c.distX>0?1:-1,c.dirY=0===c.distY?0:c.distY>0?1:-1;var d=Math.abs(c.distX)>Math.abs(c.distY)?1:0;if(!c.moving)return c.dirAx=d,void(c.moving=!0);h(a,l,this.el),c.dirAx!==d?(c.distAxX=0,c.distAxY=0):(c.distAxX+=Math.abs(c.distX),0!==c.dirX&&c.dirX!==c.lastDirX&&(c.distAxX=0),c.distAxY+=Math.abs(c.distY),0!==c.dirY&&c.dirY!==c.lastDirY&&(c.distAxY=0)),c.dirAx=d,c.dirAx&&c.distAxX>=l.threshold&&(c.distAxX=0,s=this.placeEl.prev(l.itemNodeName),c.distX>0&&s.length&&!s.hasClass(l.collapsedClass)&&(n=s.find(l.listNodeName).last(),this.placeEl.parents(l.listNodeName).length+this.dragDepth<=l.maxDepth&&(n.length?(n=s.children(l.listNodeName).last()).append(this.placeEl):((n=e("<"+l.listNodeName+"/>").addClass(l.listClass)).append(this.placeEl),s.append(n),this.setParent(s)))),c.distX<0&&(this.placeEl.next(l.itemNodeName),r=this.placeEl.parent(),this.placeEl.closest(l.itemNodeName).after(this.placeEl),r.children().length||this.unsetParent(r.parent())));var p=!1;if(o||(this.dragEl[0].style.visibility="hidden"),this.pointEl=e(i.elementFromPoint(a.pageX-i.body.scrollLeft,a.pageY-(t.pageYOffset||i.documentElement.scrollTop))),o||(this.dragEl[0].style.visibility="visible"),this.pointEl.hasClass(l.handleClass)&&(this.pointEl=this.pointEl.parent(l.itemNodeName)),this.pointEl.hasClass(l.emptyClass))p=!0;else if(!this.pointEl.length||!this.pointEl.hasClass(l.itemClass))return;var u=this.pointEl.closest("."+l.rootClass),f=this.dragRootEl.data("nestable-id")!==u.data("nestable-id");if(!c.dirAx||f||p){if(f&&l.group!==u.data("nestable-group"))return;if(this.dragDepth-1+this.pointEl.parents(l.listNodeName).length>l.maxDepth)return;var g=a.pageY<this.pointEl.offset().top+this.pointEl.height()/2;r=this.placeEl.parent(),p?((n=e(i.createElement(l.listNodeName)).addClass(l.listClass)).append(this.placeEl),this.pointEl.replaceWith(n)):g?this.pointEl.before(this.placeEl):this.pointEl.after(this.placeEl),r.children().length||this.unsetParent(r.parent()),this.dragRootEl.find(l.itemNodeName).length||this.dragRootEl.append('<div class="'+l.emptyClass+'"/>'),f&&(this.dragRootEl=u,this.hasNewRoot=this.el[0]!==this.dragRootEl[0])}}},e.fn.nestable=function(t){var i=this;return this.each((function(){var a=e(this).data("nestable");a?"string"==typeof t&&"function"==typeof a[t]&&(i=a[t]()):(e(this).data("nestable",new l(this,t)),e(this).data("nestable-id",(new Date).getTime()))})),i||this}}(window.jQuery,window,document),function(e){function t(s,c){var d=[];void 0!==c.dataList&&null!==c.dataList||(c.dataList=[]),e.each(c.dataList,(function(e,t){void 0===t[c.primaryKey]&&(c.dataList[e][c.primaryKey]=c.tmp.maxPrimaryKey,c.tmp.maxPrimaryKey++)})),function(t,i){var a=[];e.each(i.dataList,(function(t,n){var o=0;e.each(i.tmp.searchMatcher,(function(t,i){var a=i.searchKeyList,r=i.searchString,s=i.useToLowerCase;void 0===s&&(s=!0);var l=i.cmd;void 0===l&&(l="like");var c=!1;e.each(a,(function(t,a){var o=n[a];if(s&&"string"==typeof r&&"string"==typeof o?(o=o.toString().toLowerCase(),r=r.toString().toLowerCase()):"string"==typeof o?o=o.toString():void 0===o&&(o=""),"eq"==l){if(o===r)return c=!0,!1}else if("gt"==l){if(o>r)return c=!0,!1}else if("lt"==l){if(o<r)return c=!0,!1}else if("ge"==l){if(n[a].toString()>=r)return c=!0,!1}else if("le"==l){if(o<=r)return c=!0,!1}else if("and"==l){if(Fai.checkBit(o,r))return c=!0,!1}else if("inArray"==l){if(e.inArray(r,o)>=0)return c=!0,!1}else if("callBack"==l){if(i.callBack(n))return c=!0,!1}else if("string"!=typeof o&&(o=o.toString()),o.indexOf(r)>=0)return c=!0,!1})),c&&o++})),o==i.tmp.searchMatcher.length&&a.push(n)})),i.tmp.result=a}(0,c);var p=c.dataList;c.tmp.searchMatcher.length>0&&(p=c.tmp.result);var u=function(e,t){var i=e.page.startPage,a=e.page.showCount,n=e.tmp.maxPage,o=[];if(0==a)return t;var r=t.length;if(t&&t.length>0){i=(i=i<1?1:i)>(n=(r=t.length)%a==0?r/a:Math.floor(r/a)+1)?n:i,e.page.startPage=i;var s=(i-1)*a<0?0:(i-1)*a,l=i+a<0?0:i+a;l=l>r?r:s+a;for(var c=s;c<l;c++)void 0!==t[c]&&o.push(t[c])}else n=1;return e.tmp.maxPage=n,o}(c,p);if(u.length>0)e.each(u,(function(t,i){i[c.primaryKey];var a="";c.tableRowsClass[i[c.primaryKey]]&&(a=' class="'+c.tableRowsClass[i[c.primaryKey]]+'"');var n=c.primaryKey+'="'+i[c.primaryKey]+'"';d.push("<tr "+n+a+">"),c.tableColumn.showCheckbox&&d.push('<td class="checkBoxWidth textCenter"><label class="faiTableCheckboxLabel"><input type="checkbox" value=""></label></td>'),e.each(c.tableColumn.columns,(function(t,a){var n=a.key,o=i[n],r=a.rowClass,s="";s=void 0!==a.extData&&e.isFunction(a.extData)?a.extData(o,i):void 0===a.encode||a.encode?Fai.encodeHtml(o):o,a.custom&&(s=a.customData),c.sortData.showSortBtn&&n==c.sortData.showColumnKey&&(s='<div class="sortPanel"><a class="up pointer"></a><a class="down pointer"></a></div>',r=void 0!==r?"sortWidth "+r:"sortWidth");var l="",p="padding ellipsis tdWrap";l=void 0!==r?r+" ellipsis":"defaultWidth ellipsis";var u="";a.onTitle&&(u=' title="'+Fai.encodeHtml(o)+'"',a.textArea&&(u=' title="'+Fai.encodeHtmlAttr(o)+'"')),a.textArea&&(p+=" textAreaWrap "),d.push('<td class="'+l+'"'+u+'><div class="'+p+'">'+s+"</div></td>")})),d.push("</tr>")}));else{var h=r(s);d.push('<tr class="queryIngTr">'),d.push('<td class="padding" colspan="'+h+'">'+c.noDataMsg+"</td>"),d.push("</tr>")}s.find("div.center table:first>tbody").html(d.join("")),(Fai.isIE6()||Fai.isIE7())&&(i(s),e(window).resize((function(){i(s)}))),c.itemHover&&s.find("div.center table:first>tbody>tr").hover((function(){e(this).addClass("hover")}),(function(){e(this).removeClass("hover")})),function(t,i){var a,n,o=0,r=0,s=!1,l=i.expandMinWidth,c=l,d=t.find("div.center table:first>thead"),p=t.find("div.center table:first>thead th"),u=t.find("div.center table:first>thead").find("th.expand").find(".expandRightLine"),h=d.find("th.pointer");u.hover((function(){e(this).addClass("expanding")}),(function(){e(this).removeClass("expanding")})),u.mousedown((function(t){o=t.pageX,a=e(this).parents("th.expand"),e(this),r=a.width(),s=!0,d.addClass("changeCursor"),h.removeClass("pointer"),a.addClass("expanding"),n=a.attr("data-key"),e(i.tableColumn.columns).each((function(e,t){if(t.key==n)return c=t.expandMinWidth||l,!1;c=l})),p.mousemove((function(e){var t=0,i=0;s&&(d.onselectstart=function(){return!1},t=parseInt(e.pageX-o),i=parseInt(r+t),a.css({width:i<c?c+"px":i+"px"}))}))})).mousemove((function(t){a=e(this).parents("th.expand"),n=a.attr("data-key"),e(i.tableColumn.columns).each((function(e,t){if(t.key==n)return c=t.expandMinWidth||l,!1;c=l}));var p=0,u=0;s&&(d.onselectstart=function(){return!1},p=parseInt(t.pageX-o),u=parseInt(r+p),a.css({width:u<c?c+"px":u+"px"}))})),e(document).mouseup((function(t){s&&(s=!1,d.removeClass("changeCursor"),h.addClass("pointer"),""!=i.expandCookie&&e.cookie(i.expandCookie+a.attr("data-key"),a.width(),{expires:365,path:"/"}))}))}(s,c),(c.sortData.showSortBtn||c.sortData.sortable)&&function(t,i){t.find("div.center table:first>tbody>tr").each((function(){var t=parseInt(e(this).attr(i.primaryKey));-1!=e.inArray(t,i.sortData.unSortList)&&e(this).removeClass("move").addClass("unSort").find(".sortPanel").remove()}))}(s,c),c.sortData.showSortBtn&&(n(s),function(t,i){t.find("div.center table:first>tbody>tr>td .sortPanel a").bind("click",(function(){var r=e(this).parents("tr");e(this).hasClass("up")?r.insertBefore(r.prev()):e(this).hasClass("down")&&r.insertAfter(r.next()),n(t),i.sortData.sortBack&&i.sortData.sortBack(),o(t,i),a(t)})),n(t)}(s,c)),c.sortData.sortable&&function(t,i){t.find("div.center table:first>tbody>tr").each((function(){e(this).hasClass("queryIngTr unSort")||e(this).addClass("move")})),t.sortable("destroy"),t.sortable({start:function(){var i=r(t);e(".sortablePlaceholder").append('<td colspan="'+i+'"><div class="sortableHighlight"></div></td>')},axis:"y",placeholder:"sortablePlaceholder",items:"div.center table:first>tbody>tr:not(.unSort)",distance:3,cancel:".queryIngTr, input, .unSort",stop:function(){a(t),n(t),i.sortData.sortBack&&i.sortData.sortBack(),o(t,i)}}),t.disableSelection()}(s,c),a(s),c.bottom.show&&c.bottom.showTotal&&function(t){var i=0;e.each(t.find("div.center table:first>tbody>tr"),(function(){e(this).hasClass("queryIngTr")||i++})),t.find("div.bottom>.total>.pageTotal").html("本页共"+i+"个 ")}(s),c.bottom.show&&c.bottom.showAllTotal&&function(e,t){var i=t.length;e.find("div.bottom>.total>.allTotal").html("总共"+i+"个")}(s,c.tmp.result),c.bottom.show&&c.bottom.showExtTotal&&function(t,i){var a="";void 0!==i.bottom.showExtData&&e.isFunction(i.bottom.showExtData)&&(a=i.bottom.showExtData(i.tmp.result));t.find("div.bottom>.total>.extTotal").html(a)}(s,c),c.bottom.show&&c.bottom.showPage&&function(i,a){var n,o,r=[];if(n=a.page.startPage-2<=0?1:a.page.startPage-2,o=a.page.startPage+2>=a.tmp.maxPage?a.tmp.maxPage:a.page.startPage+2,!0===a.page.pageClass.isDefaultPage)if("new2"==a.page.pageClass.pageStyle){r.push('<a href="javascript:;" hidefocus="true" class="firstPage '+a.page.pageClass.pagePrevClass+'">首页</a>'),r.push('<a href="javascript:;" hidefocus="true" class="prevPage disabledBtn '+a.page.pageClass.pagePrevClass+'"><<上一页</a>'),Math.abs(a.page.startPage-1)>5&&1!=n&&r.push("<div class='pageNo_model'><a class='grayContent'>1</a></div>"),n>2&&r.push("<div class='pageEllipsis_new'></div>");for(var s=n;s<=o;s++)s==a.page.startPage?r.push("<div class='pageNo_model'><span style='margin-left:4px;' class='blueTitle'>"+a.page.startPage+"</span></div>"):r.push("<div class='pageNo_model'><a class='grayContent'>",s,"</a></div>");o<a.tmp.maxPage-1&&r.push("<div class='pageEllipsis_new'></div>"),Math.abs(a.page.startPage-a.tmp.maxPage)>5&&a.tmp.maxPage!=o&&r.push("<div class='pageNo_model'><a class='grayContent'>"+a.tmp.maxPage+"</a></div>"),r.push('<a href="javascript:;" hidefocus="true" class="nextPage disabledBtn '+a.page.pageClass.pageNextClass+'">下一页>></a>'),r.push('<a href="javascript:;" hidefocus="true" class="endPage '+a.page.pageClass.pageNextClass+'">尾页</a>')}else if("new"==a.page.pageClass.pageStyle){r.push('<a href="javascript:;" hidefocus="true" class="prevPage disabledBtn '+a.page.pageClass.pagePrevClass+'"><div class="pagePrevClassImg"></div></a>'),Math.abs(a.page.startPage-1)>5&&1!=n&&r.push("<div class='pageNo_model'><a class='grayContent'>1</a></div>"),n>2&&r.push("<div class='pageEllipsis_new'></div>");for(s=n;s<=o;s++)s==a.page.startPage?r.push("<div class='pageNo_model'><span style='margin-left:4px;' class='blueTitle'>"+a.page.startPage+"</span></div>"):r.push("<div class='pageNo_model'><a class='grayContent'>",s,"</a></div>");o<a.tmp.maxPage-1&&r.push("<div class='pageEllipsis_new'></div>"),Math.abs(a.page.startPage-a.tmp.maxPage)>5&&a.tmp.maxPage!=o&&r.push("<div class='pageNo_model'><a class='grayContent'>"+a.tmp.maxPage+"</a></div>"),r.push('<a href="javascript:;" hidefocus="true" class="nextPage disabledBtn '+a.page.pageClass.pageNextClass+'"><div class="pageNextClassImg"></div></a>'),r.push('<span style="margin-left: 10px;position: relative;top:1px;" class="currentPage">共&nbsp;'+a.tmp.maxPage+"&nbsp;页</span>"),r.push('<div class="pageSearch pageSearch_N"><span class="grayTitle">到第&nbsp;<input oninput="this.value=this.value.replace(/[^0-9]+/g,\'\')" type="text" maxlength="3" onkeypress="javascript:return Fai.isNumberKey(event);">&nbsp;页<span></div>'),r.push('<div class="pageSearchClick pageSearchClick_N"><a class="bottomSearch" href="javascript:;">确定</a></div>')}else r.push('<a href="javascript:;" hidefocus="true" class="prevPage disabledBtn '+a.page.pageClass.pagePrevClass+'"><div class="pagePrevClassImg"></div></a>'),r.push('<span class="currentPage">'+a.page.startPage+"/"+a.tmp.maxPage+"</span>"),r.push('<a href="javascript:;" hidefocus="true" class="nextPage disabledBtn '+a.page.pageClass.pageNextClass+'"><div class="pageNextClassImg"></div></a>'),r.push('<div class="pageSearch"><input type="text" maxlength="3" onkeypress="javascript:return Fai.isNumberKey(event);"></div>'),r.push('<div class="pageSearchClick">跳转</div>');else r.push('<a href="javascript:;" hidefocus="true" class="prevPage disabledBtn">上一页</a>'),r.push('<span class="currentPage">'+a.page.startPage+"/"+a.tmp.maxPage+"页</span>"),r.push('<a href="javascript:;" hidefocus="true" class="nextPage disabledBtn">下一页</a>');i.find("div.bottom>.page").html(r.join("")),function(i,a){var n=i.find("div.bottom>div.page"),o=n.find("a.prevPage"),r=n.find("a.nextPage"),s=n.find("a.firstPage"),l=n.find("a.endPage"),c=n.find(".pageSearchClick"),d=a.page.startPage,p=(a.page.showCount,a.tmp.maxPage);if("new"==a.page.pageClass.pageStyle){n.find(".pageNo_model").each((function(){var n=e(this).find(".grayContent").text();e(this).find(".grayContent").addClass("pointer"),e(this).find(".grayContent").bind("click",(function(){a.page.startPage=parseInt(n),t(i,a)}))}))}if("new2"==a.page.pageClass.pageStyle){n.find(".pageNo_model").each((function(){var n=e(this).find(".grayContent").text();e(this).find(".grayContent").addClass("pointer"),e(this).find(".grayContent").bind("click",(function(){a.page.startPage=parseInt(n),t(i,a)}))})),(s=n.find(".firstPage")).bind("click",(function(){a.page.startPage=1,t(i,a)})),(l=n.find(".endPage")).bind("click",(function(){a.page.startPage=n.find(".pageNo_model:last").text(),t(i,a)}))}d>1&&o.removeClass("disabledBtn");d<p&&r.removeClass("disabledBtn");"new"==a.page.pageClass.pageStyle&&(o.hasClass("disabledBtn")&&(o.removeClass("prevShow_model"),o.addClass("prevHide_model")),r.hasClass("disabledBtn")&&(r.removeClass("nextShow_model"),r.addClass("nextHide_model")));"new2"==a.page.pageClass.pageStyle&&(o.hasClass("disabledBtn")&&(o.removeClass("prevShow_model"),o.addClass("prevHide_model"),s.removeClass("prevShow_model"),s.addClass("prevHide_model")),r.hasClass("disabledBtn")&&(r.removeClass("nextShow_model"),r.addClass("nextHide_model"),l.removeClass("nextShow_model"),l.addClass("nextHide_model")));o.hasClass("disabledBtn")||(o.addClass("pointer"),o.bind("click",(function(){!function(e,i){var a=i.page.startPage,n=i.page.showCount,o=i.dataList.length;o%n==0||Math.floor(o/n);a-1>0&&a--;i.page.startPage=a,t(e,i)}(i,a)})));r.hasClass("disabledBtn")||(r.addClass("pointer"),r.bind("click",(function(){!function(e,i){var a=i.page.startPage,n=i.page.showCount,o=i.dataList.length,r=o%n==0?o/n:Math.floor(o/n)+1;a+1<=r&&a++;i.page.startPage=a,t(e,i)}(i,a)})));p>1&&c.removeClass("disabledBtn");c.hasClass("disabledBtn")||(c.addClass("pointer"),c.bind("click",(function(){!function(e,i){var a=e.find("div.bottom>div.page").find(".pageSearch input").val();""!=a&&(a=parseInt(a));i.page.startPage;var n=i.page.showCount,o=i.dataList.length,r=o%n==0?o/n:Math.floor(o/n)+1;a<=r&&a>0?i.page.startPage=a:""===a?Fai.ing("您没有输入数值。",!0):i.page.startPage=r;t(e,i)}(i,a)})))}(i,a)}(s,c),function(t){var i=t.find("div.center table:first>thead>tr>th.checkBoxWidth input.checkbox.all"),a=t.find("div.center table:first>thead>tr>th.checkBoxWidth input.checkbox.all").parents("tr"),n=t.find("div.center table:first>tbody>tr>td.checkBoxWidth input");a.removeClass("checkedAll"),i.bind("click",(function(){var i=e(this).prop("checked");n.prop("checked",i);var o=t.find("div.center table:first>tbody>tr>td.checkBoxWidth input[type='checkbox']").parents("tr");i?(o.addClass("checked"),a.addClass("checkedAll")):(o.removeClass("checked"),a.removeClass("checkedAll"))})),n.bind("click",(function(){t.find("div.center table:first>tbody>tr>td.checkBoxWidth input:checked").length==n.length?(i.prop("checked",!0),a.addClass("checkedAll")):(i.prop("checked",!1),a.removeClass("checkedAll")),e(this).prop("checked")?e(this).parents("tr").addClass("checked"):e(this).parents("tr").removeClass("checked")}))}(s),function(e){e.find("div.center table:first>thead>tr>th.checkBoxWidth input.checkbox.all").prop("checked",!1)}(s),l(s,c)}function i(e){e.find("tr.fixIE6forFaiTable").remove();var t=e.width();if(e.find("table.faiTable").width()-t>0){var i=r(e),a=[];a.push('<tr class="fixIE6forFaiTable">'),a.push('<td colspan="'+i+'"></td>'),a.push("</tr>"),e.find("table.faiTable").append(a.join(""))}}function a(t){t.find("div.center table:first>tbody>tr").removeClass("even odd").each((function(t,i){t%2==0?e(this).addClass("odd"):e(this).addClass("even")}))}function n(e){var t=e.find("div.center table:first>tbody>tr>td .sortPanel a.up"),i=e.find("div.center table:first>tbody>tr>td .sortPanel a.down");t.removeClass("disabled").first().addClass("disabled"),i.removeClass("disabled").last().addClass("disabled")}function o(t,i){var a=i.dataList,n=i.page.showCount,o=i.page.startPage,r=a.length,s=n*(o-1),l=n*o-1,c=t.find("div.center table:first>tbody>tr"),d=[],p=[];0==n&&(l=r-1,s=0),l>r&&(l=r-1);for(var u=s;u<=l;u++)d.push(a[u]);e.each(c,(function(t,a){var n=e(a).attr(i.primaryKey);e.each(d,(function(e,t){if(n==t[i.primaryKey])return p.push(t),!1}))}));for(var h=0,f=s;f<=l;f++)a[f]=p[h],h++;i.dataList=a}function r(e){return e.find("div.center table:first>thead>tr>th").length}function s(t,i){if(e.isArray(t)){var a=e.extend(!0,[],t);return e.each(a,(function(e,t){delete t[i.primaryKey]})),a}if("object"===_typeof(t)){var n=e.extend(!0,{},t);return delete n[i.primaryKey],n}}function l(t,i){var a=t.find("div.center table:first>thead>tr>th"),n=t.find("div.center table:first>tbody>tr"),o=i.tableColumn.hiddenKeyList;e.each(a,(function(t){var i=e(this).attr("data-key");e(this).removeClass("disabled"),-1!=e.inArray(i,o)&&e(this).addClass("disabled"),e.each(n,(function(a){e(this).find("td").eq(t).removeClass("disabled"),-1!=e.inArray(i,o)&&e(this).find("td").eq(t).addClass("disabled")}))}))}e.widget("ui.faiTable",{options:{before:function(){},toolBar:[],tableColumn:{showCheckbox:!1,columns:[],hiddenKeyList:[]},bottom:{show:!1,showTotal:!1,showAllTotal:!1,showExtTotal:!1,showPage:!1},ajax:{type:"post",url:"",data:""},primaryKey:"_index",dataList:[],noDataMsg:"没有数据",tableRowsClass:{},sortData:{sortable:!1,showSortBtn:!1,showColumnKey:"_sort",unSortList:[],sortBack:function(){}},page:{startPage:1,showCount:0,pageClass:{isDefaultPage:!1,pageStyle:"",pagePrevClass:"",pageNextClass:""}},itemHover:!1,tmp:{result:[],maxPage:0,newAddDataList:[],rmDataList:[],editDataList:[],maxPrimaryKey:0,searchMatcher:[]},after:function(){},expand:!1,expandCookie:"",expandMinWidth:5,sortCallback:null,customClassStyle:"",toolBarPosition:"top"},_create:function(){var i=this.options,a=this.element;i.before&&i.before();var n=[];i.customClassStyle?n.push("<div class="+i.customClassStyle+">"):n.push('<div class="faiTableWrap">'),"top"==i.toolBarPosition&&i.toolBar.length>0&&(n.push('<div class="top">'),e.each(i.toolBar,(function(e,t){if(t.show){var i="";void 0!==t.extClass&&(i+=t.extClass);var a="";void 0!==t.content&&(a+=t.content),n.push('<div class="toolBar '+i+'">'+a+"</div>")}})),n.push("</div>")),n.push('<div class="center">'),n.push('<table class="faiTable" cellpadding="0" cellspacing="0">'),n.push("<thead>"),n.push("<tr>"),i.tableColumn.showCheckbox&&n.push('<th class="checkBoxWidth textCenter sep"><label class="faiTableCheckboxLabel"><input class="checkbox all" type="checkbox"></label></th>');var o=!1,r="",s="",l=i.expand;i.tableColumn.columns.length>0?e.each(i.tableColumn.columns,(function(e,t){var a=t.onsort,c=t.sortAs,d=t.expand;void 0===d&&(d=l);t.sortCallback;var p="";void 0!==t.key&&(p=' data-key="'+t.key+'"');var u="",h="";i.tableColumn.columns.length!=e+1&&(h=" sep");var f="";a&&(f=" sort pointer"),o||"asc"!=c||(o=!0,r="asc",s=t.key,a&&(f+=" asc")),o||"desc"!=c||(o=!0,r="desc",s=t.key,a&&(f+=" desc"));var g=t.colClass;i.sortData.showSortBtn&&t.key==i.sortData.showColumnKey&&(f="",g=void 0!==g?"sortWidth "+g:"sortWidth"),u=void 0!==g?' class="'+g+h+f:' class="defaultWidth'+h+f,d?(u+=' expand "',n.push("<th"+p+u+'><div class="expandRightLine-box"><div class="expandRightLine"></div></div><div class="padding title">'+t.name+"</div></th>")):(u+=' "',n.push("<th"+p+u+'><div class="padding">'+t.name+"</div></th>"))})):n.push("<th>&nbsp;</th>"),n.push("</tr>"),n.push("</thead>"),n.push("<tbody>"),n.push("</tbody>"),n.push("<tfoot></tfoot>"),n.push("</table>"),n.push("</div>"),"bottom"==i.toolBarPosition&&i.toolBar.length>0&&(n.push('<div class="top">'),e.each(i.toolBar,(function(e,t){if(t.show){var i="";void 0!==t.extClass&&(i+=t.extClass);var a="";void 0!==t.content&&(a+=t.content),n.push('<div class="toolBar '+i+'">'+a+"</div>")}})),n.push("</div>")),i.bottom.show&&(n.push('<div class="bottom">'),n.push('<div class="total">'),i.bottom.showTotal&&n.push('<span class="pageTotal"></span>'),i.bottom.showAllTotal&&n.push('<span class="allTotal"></span>'),i.bottom.showExtTotal&&n.push('<span class="extTotal"></span>'),n.push("</div>"),i.bottom.showPage&&(n.push('<div class="page">'),n.push("</div>")),n.push("</div>")),n.push("</div>"),a.append(n.join("")),void 0!==i.ajax.url&&""!=i.ajax.url?(i.dataList=[],function(i,a,n,o,r){var s=[],l=i.find("div.center table:first>thead>tr>th").length;s.push('<tr class="queryIngTr">'),s.push('<td class="padding" colspan="'+l+'"><div class="ajaxLoading1 queryIng">数据加载中...</div></td>'),s.push("</tr>"),i.find("div.center table:first>tbody").html(s.join("")),e.ajax({type:a.ajax.type,data:a.ajax.data,url:a.ajax.url,error:function(){i.find("div.center table:first>tbody td").html('<td colspan="'+l+'"><div class="ajaxLoading1 queryIng">数据加载失败...</div></td>')},success:function(s){var l=e.parseJSON(e.trim(s));a.dataList=l,n&&o&&r&&a.dataList.sort((function(e,t){return Fai.compareObjNew(e,t,o,r)})),t(i,a)}})}(a,i,o,r,s)):(o&&r&&s&&i.dataList.sort((function(e,t){return Fai.compareObjNew(e,t,r,s)})),t(a,i)),function(i,a){i.find("div.center table:first>thead>tr>th.sort").bind("click",(function(){if(e(this).hasClass("expanding"))e(this).removeClass("expanding");else{var n=e(this).attr("data-key"),o="";e(this).hasClass("desc")?(e(this).addClass("asc").removeClass("desc").siblings().removeClass("asc desc"),o="asc"):(e(this).addClass("desc").removeClass("asc").siblings().removeClass("asc desc"),o="desc"),a.dataList.sort((function(e,t){return Fai.compareObjNew(e,t,o,n)})),t(i,a),a.sortCallback&&a.sortCallback()}}))}(a,i),function(t,i){t.find("div.center table:first>thead>tr>th").each((function(t){if(null!=e(this).attr("data-key")){var a=parseInt(e.cookie(i.expandCookie+e(this).attr("data-key"),{path:"/"}))||0;0!=a&&e(this).css({width:a+"px"})}}))}(a,i),i.after&&i.after()},sortDataList:function(t){var i=this.options,r=this.element,s=i.dataList,l=r.find("div.center table:first>tbody>tr"),c=r.find("div.center table:first>tbody");e.each(t,(function(t,i){e.each(s,(function(t,a){if(i===a.id){var n=a._index;return e.each(l,(function(t,i){var a=parseInt(e(i).attr("_index"));if(n===a)return c.append(i),!1})),!1}}))}));for(var d=(l=r.find("div.center table:first>tbody>tr")).length-1;d>=0;d--){e(l[d]).find("div.checkedBtn").length>0&&c.prepend(l[d])}n(r),a(r),o(r,i)},returnDataList:function(e){var t=this.options,i=t.dataList,a=s(i,t);return e?i:a},returnRmDataList:function(){var e=this.options;return s(e.tmp.rmDataList,e)},returnChoiceDataList:function(t){var i=this,a=i.element,n=i.options,o=a.find("div.center table:first>tbody>tr>td.checkBoxWidth input[type='checkbox']:checked").parents("tr"),r=[];return o.each((function(a,o){var s=e(this).attr(n.primaryKey);r.push(i.getPrimaryKeyData(s,t))})),r},rmChoices:function(){var i=this.element,a=this.options,n=a.dataList,o=a.tmp.rmDataList,r=a.tmp.newAddDataList,s=a.tmp.result,l=a.tmp.editDataList,c=i.find("div.center table:first>tbody>tr>td.checkBoxWidth input[type='checkbox']:checked").parents("tr");return 0==c.length||(c.each((function(t,i){var c=e(this).attr(a.primaryKey);e.each(n,(function(e,t){if(t[a.primaryKey]==c)return o.push(t),n.splice(e,1),!1})),e.each(r,(function(e,t){if(t[a.primaryKey]==c)return r.splice(e,1),!1})),e.each(s,(function(e,t){if(t[a.primaryKey]==c)return s.splice(e,1),!1})),e.each(l,(function(e,t){if(t[a.primaryKey]==c)return l.splice(e,1),!1}))})),t(i,a)),!0},rmChoicesList:function(t){var i=this;return e.each(t,(function(e,t){i.rmPrimaryKeyData(t)})),!0},addData:function(e,i){var a=this.element,n=this.options,o=n.dataList,r=n.tmp.newAddDataList;return e[n.primaryKey]=n.tmp.maxPrimaryKey,n.tmp.maxPrimaryKey++,i?o.splice(0,0,e):o.push(e),r.push(e),t(a,n),!0},returnNewAddDataList:function(){var e=this.options;return s(e.tmp.newAddDataList,e)},hiddenColumns:function(e){var t=this.options,i=this.element;t.tableColumn.hiddenKeyList=e,l(i,t)},searchString:function(i){var a=this.options,n=this.element;a.page.startPage>1&&(a.page.startPage=1),e.each(a.tmp.searchMatcher,(function(e,t){if(t.uid==i.uid)return a.tmp.searchMatcher.splice(e,1),!1})),a.tmp.searchMatcher.push(i),t(n,a)},rmSearchObj:function(i){var a=this.element,n=this.options;e.each(n.tmp.searchMatcher,(function(e,t){if(t.uid==i)return n.tmp.searchMatcher.splice(e,1),!1})),t(a,n)},getPrimaryKeyId:function(t){var i=this.options,a=e(t).parents("tr").attr(i.primaryKey);return parseInt(a)},getPrimaryKeyData:function(t,i){var a=this.options,n=a.dataList,o=!1,r={};if(e.each(n,(function(e,i){if(i[a.primaryKey]==t)return o=!0,r=i,!1})),o)return i?r:s(r,a)},rmPrimaryKeyData:function(i){var a=this.element,n=this.options,o=n.dataList,r=n.tmp.rmDataList,s=n.tmp.newAddDataList,l=n.tmp.result,c=n.tmp.editDataList;return e.each(o,(function(e,t){if(t[n.primaryKey]==i)return r.push(t),o.splice(e,1),!1})),e.each(s,(function(e,t){if(t[n.primaryKey]==i)return s.splice(e,1),!1})),e.each(l,(function(e,t){if(t[n.primaryKey]==i)return l.splice(e,1),!1})),e.each(c,(function(e,t){if(t[n.primaryKey]==i)return c.splice(e,1),!1})),t(a,n),!0},editData:function(i,a,n){var o=this.element,r=this.options,s=r.dataList,l=r.tmp.editDataList,c=r.tmp.newAddDataList,d=!1,p="";return e.each(s,(function(t,o){if(o[r.primaryKey]==i){n?e.extend(o,a):e.extend(!0,o,a),d=!0;var s=!1;return e.each(c,(function(e,t){if(t[r.primaryKey]==i)return s=!0,!1})),s||(e.each(l,(function(e,t){if(t[r.primaryKey]==i)return l.splice(e,1),!1})),l.push(o)),!1}})),!!d&&(e(r.tableColumn.columns).each((function(){e(this)[0].ext&&(p=e(this)[0].key)})),""!=p&&"string"==typeof p&&r.dataList.length>i&&(r.dataList[i][p]=a[p]),t(o,r),!0)},editReplaceData:function(i,a){var n=this.element,o=this.options,r=o.dataList,s=!1,l="";return e.each(r,(function(e,t){if(t[o.primaryKey]==i){for(var n in s=!0,t){var r=a[n];void 0!==r&&(t[n]=r)}return!1}})),!!s&&(e(o.tableColumn.columns).each((function(){e(this)[0].ext&&(l=e(this)[0].key)})),""!=l&&"string"==typeof l&&(o.dataList[0][l]=a[l]),t(n,o),!0)},returnEditDataList:function(){var e=this.options;return s(e.tmp.editDataList,e)},addClassToRow:function(e){},unSortListAdd:function(t){this.element;var i=this.options,a=i.sortData.unSortList;-1==e.inArray(t,a)&&i.sortData.unSortList.push(t)},unSortListRm:function(t){var i=this.options,a=i.sortData.unSortList;e.each(a,(function(e,a){if(a==t)return i.sortData.unSortList.splice(e,1),!1}))},editThisRowColumn:function(t,i,a,n){var o=this,r=o.options,s=o.getPrimaryKeyId(t),l=e(t).parents("tr"),c=-1;e.each(r.tableColumn.columns,(function(e,t){if(t.key==i)return c=e,!0})),r.tableColumn.showCheckbox&&c++;var d=l.find("td").eq(c).find("div.tdWrap"),p=e.trim(d.text()),u=e('<input type="text" class="txtInput" maxlength="'+a+'"/>');""==p&&(p=e(".txtInput").val()),u.val(p),u.bind("blur",(function(){var t=e.trim(e(this).val()),a={primaryKeyId:s,primaryKey:r.primaryKey,key:i,"old-data":p,"new-data":t};void 0!==n&&n(a);var l=a["new-data"];if(d.html(Fai.encodeHtml(l)),l!=p){var c={};c[i]=l,o.editData(s,c)}return!1})),u.bind("keypress",(function(t){13==t.keyCode&&e(this).blur()})),d.html(u),setTimeout((function(){u.focus()}),1)},editFileName:function(t,i,a,n){var o=this.options,r=this.getPrimaryKeyId(t),s=e(t).parents("tr"),l=-1;e.each(o.tableColumn.columns,(function(e,t){if(t.key==i)return l=e,!0})),o.tableColumn.showCheckbox&&l++;var c=s.find("td").eq(l).find("div.tdWrap"),d=e.trim(c.text()),p=d.lastIndexOf("."),u=d.substring(p),h=d.substring(0,p),f=e('<input type="text" class="txtInput" maxlength="'+a+'"/>');f.val(h),f.bind("blur",(function(){var t=e.trim(e(this).val()),a={primaryKeyId:r,primaryKey:o.primaryKey,key:i,"src-data":d,"type-data":u,"name-data":h,"new-data":t};if(void 0!==n)n(a);else{var s=a["new-data"];c.html(Fai.encodeHtml(s))}return!1})),f.bind("keypress",(function(t){13==t.keyCode&&e(this).blur()})),c.html(f),setTimeout((function(){f.focus()}),1)},returnResultDataList:function(e){var t=this.options,i=t.tmp.result,a=s(i,t);return e?i:a},refreshHiddenList:function(t){var i=this.element,a=this.options;return e.isArray(t)&&(a.tableColumn.hiddenKeyList=t),l(i,a),!0},refreshshowCountList:function(e){var i=this.options,a=this.element;e&&(i.page.showCount=e),t(a,i)},refreshShowTable:function(e){var i=this.element,a=this.options;return a.dataList=e,t(i,a),!0}})}(jQuery),Fai.bodyBg=function(e,t,i){if(1!=top.Fai.top._noCover){var a,n="",o=(i||{}).extClass||"";t&&(n="filter: alpha(opacity="+100*t+"); opacity:"+t+";"),Fai.isIE6()&&($("body").data("height",$("body").css("height")),$("body").css("height","100%")),a='<div id="popupBg'+e+'" class="popupBg '+o+"\" style='"+n+"' >"+($.browser.msie&&6==$.browser.version?'<iframe id="fixSelectIframe'+e+'" wmode="transparent" style="filter: alpha(opacity=0);opacity: 0;" class="popupBg" style="z-index:-111" src="javascript:"></iframe>':"")+"</div>",$(a).appendTo("body")}},Fai.removeBodyBg=function(e){Fai.isIE6()&&$("body").css("height",$("body").data("height")),e?$("#popupBg"+e).remove():$(".popupBg").not(".popupZoneDelOnlyById").last().remove()},Fai.unique=function(e){if("string"==typeof e)return t(e.split("")).join("");if(e instanceof Array)return t(e);throw"Fai.unique：参数必须是字符串或者数组";function t(e){for(var t=[],i=0;i<e.length;i++)-1==t.indexOf(e[i])&&t.push(e[i]);return t}},Fai.URIParam={get _param(){return this.hash.parse(location.hash)},set _param(e){history.replaceState(history.state,null,this.hash.stringify(e))},hash:{stringify:function(e){for(var t="",i=0,a=Object.entries(e);i<a.length;i++){var n=_slicedToArray(a[i],2),o=n[0],r=n[1];t+="&".concat(o),r&&"null"!==r&&(t+="=".concat(r))}return(t=t.slice(1))?"#"+t:""},parse:function(e){var t=decodeURI(e).slice(1).split("&"),i={};return t.forEach((function(e){var t=_slicedToArray(e.split("="),2),a=t[0],n=t[1],o=void 0===n?"null":n;a&&(i[a]=o)})),i}},each:function(e){for(var t=0,i=Object.entries(this._param);t<i.length;t++){var a=_slicedToArray(i[t],2);e(a[0],a[1])}},getAll:function(){return this._param},get:function(e){return this._param[e]},set:function(e,t){this._param=Object.assign(this._param,_defineProperty({},e,t))}},Fai.isLetter=function(e){return!(e<"a"||e>"z")||!(e<"A"||e>"Z")}}})}));